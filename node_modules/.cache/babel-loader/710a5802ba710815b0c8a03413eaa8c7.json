{"ast":null,"code":"var _jsxFileName = \"/Users/james/Documents/CODE/GREENKODE_DASHBOARD/greenkode-dashboard/frontend/greenkode/src/shared/components/containers/reports/waste-per-sales-report.js\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { Bar } from \"react-chartjs-2\";\nimport \"chartjs-plugin-annotation\";\nimport \"chartjs-plugin-datalabels\";\nimport useWindowDimensions from \"../../libs/use-window-dimensions\";\nimport { WastePerSalesContext } from \"../../../../contexts/waste-per-sales-context\";\nimport { WasteCapContext } from \"../../../../contexts/waste-cap-context\";\nimport { WasteLabelsContext } from \"../../../../contexts/waste-labels-context\";\nimport { AccordionHeading, AccordionBody } from \"../accordion\";\nimport { setItemInLocalStorage, maxNumForCoverPerWasteChartFunction } from \"../../../../utilities.js\";\nimport { keepTwoDecimalPlacesWithoutRoundingUp, isInt, getIndexesForBackgroundColours } from \"../../../../helper.js\";\nimport Capping from \"./../reuseable-components/labels/capping\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nlet graphWidth = 500;\nlet graphHeight = 220; // let fontSize = 7\n\nexport default function WastePerSalesGraph(props) {\n  const {\n    allCappingValue,\n    wastePerSalesCoverWastes,\n    wastePerSalesSpoilageWastes,\n    wastePerSalesPrepWastes\n  } = useContext(WasteCapContext);\n  const {\n    labels\n  } = useContext(WasteLabelsContext);\n  const [tooltipIsOpen, setTooltipIsOpen] = React.useState(true);\n  const {\n    totalCW,\n    count,\n    totalPW,\n    totalSW,\n    totalWaste,\n    monthName,\n    selectedYear,\n    totalSalesInputs,\n    percentageOfInputsAreZeros,\n    display,\n    toggleActive,\n    activeState,\n    montlyArray,\n    yearlyArray,\n    handleSearch,\n    searchError,\n    siteName,\n    // handleYearly,\n    handleMonthly,\n    wasteSteamValue,\n    salesInputDataArray,\n    datesLabel,\n    foodWaste,\n    foodWasteXaxis,\n    showTooltip\n  } = useContext(WastePerSalesContext); // const [ monthly, setMonthlyArray] = React.useState([])\n  // const [ yearly, setYearlyArray ] = React.useState([])\n\n  const [displayValue, setDisplay] = React.useState([]);\n  const [totalCoverWaste, setTotalCW] = useState(0);\n  const [totalPrepWaste, setTotalPW] = useState(0);\n  const [totalSpoilageWaste, setTotalSW] = useState(0);\n  const [totalAllWaste, setTotalWaste] = useState(0);\n  const [showSearchError, setShowSearchError] = useState(false);\n  const [year, setSelectedYear] = React.useState(0); // let maxNumber = 1;\n\n  let [maxNumber, setMaxNumber] = React.useState(1); // let barColors = \"rgba(15, 128, 140, 0.5)\"\n\n  const [inputsData, setInputsData] = useState([]);\n  const [wasteStreamValue, setWasteStreamValue] = useState([]); // const [label, setLabel ] = useState([])\n\n  useEffect(() => {\n    setWasteStreamValue(wasteSteamValue);\n    setInputsData(salesInputDataArray);\n    setDisplay(foodWaste); // setMonthlyArray(montlyArray)\n    // setYearlyArray(yearlyArray)\n    // setDisplay(display)\n\n    setTotalCW(totalCW);\n    setTotalPW(totalPW);\n    setTotalSW(totalSW);\n    setTotalWaste(totalWaste);\n    let maxNumber = maxNumForCoverPerWasteChartFunction(display);\n    setMaxNumber(maxNumber);\n    setShowSearchError(searchError);\n    setSelectedYear(selectedYear);\n\n    if (props.wastePerSales && showTooltip) {\n      setTooltipIsOpen(true);\n    } else {\n      setTooltipIsOpen(false);\n    } // setWeekOneArray(weekOneArray)\n    // setWeekTwo(weekTwoArray)\n    // setWeekThree(weekThreeArray)\n    // setWeekFour(weekFourArray)\n    // setWeekFive(weekFiveArray)\n    // setWeekSix(weekSixArray)\n    // setWeekSeven(weekSevenArray)\n    // setDates(dates)\n    // console.log(\"datesLabel\",datesLabel)\n    // setLabel(datesLabel)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [montlyArray, yearlyArray, count, display, searchError, selectedYear, wasteSteamValue, salesInputDataArray, datesLabel, foodWaste, foodWasteXaxis, props.wastePerSales]); // console.log(\"label\",label)\n\n  if (props.showPounds) {\n    if (display) {\n      const monetaryValues = display.map(data => {\n        return data * 2.775;\n      });\n      maxNumber = maxNumForCoverPerWasteChartFunction(monetaryValues);\n    }\n  } else {\n    maxNumber = maxNumForCoverPerWasteChartFunction(display);\n  }\n\n  const {\n    width\n  } = useWindowDimensions();\n\n  if (width <= 700) {\n    graphWidth = 260;\n    graphHeight = 65;\n  } else if (width >= 1600) {\n    graphWidth = 700;\n    graphHeight = 250;\n  } // if (activeState.coverSelector) {\n  //   barColors = \"rgba(140, 112, 140, 0.5)\"\n  // } else if (activeState.spoilageSelector) {\n  //   barColors = \"#ff8c00\"\n  // } else if (activeState.preparationSelector) {\n  //   barColors = \"rgba(133, 165, 101, 0.5)\"\n  // } else {\n  //   barColors = \"rgba(15, 128, 140, 0.5)\"\n  // }\n\n\n  let indexes;\n  let barColors = [\"rgb(178, 191, 80)\", \"rgb(178, 191, 80)\", \"rgb(178, 191, 80)\", \"rgb(178, 191, 80)\", \"rgb(178, 191, 80)\", \"rgb(178, 191, 80)\", \"rgb(178, 191, 80)\", \"rgb(178, 191, 80)\", \"rgb(178, 191, 80)\", \"rgb(178, 191, 80)\", \"rgb(178, 191, 80)\", \"rgb(178, 191, 80)\", \"rgb(178, 191, 80)\", \"rgb(178, 191, 80)\", \"rgb(178, 191, 80)\", \"rgb(178, 191, 80)\", \"rgb(178, 191, 80)\", \"rgb(178, 191, 80)\", \"rgb(178, 191, 80)\", \"rgb(178, 191, 80)\", \"rgb(178, 191, 80)\", \"rgb(178, 191, 80)\", \"rgb(178, 191, 80)\", \"rgb(178, 191, 80)\", \"rgb(178, 191, 80)\", \"rgb(178, 191, 80)\", \"rgb(178, 191, 80)\", \"rgb(178, 191, 80)\", \"rgb(178, 191, 80)\", \"rgb(178, 191, 80)\", \"rgb(178, 191, 80)\", \"rgb(178, 191, 80)\", \"rgb(178, 191, 80)\", \"rgb(178, 191, 80)\", \"rgb(178, 191, 80)\", \"rgb(178, 191, 80)\", \"rgb(178, 191, 80)\", \"rgb(178, 191, 80)\", \"rgb(178, 191, 80)\", \"rgb(178, 191, 80)\", \"rgb(178, 191, 80)\", \"rgb(178, 191, 80)\"];\n  console.log(\"foodWaste\", foodWaste);\n  console.log(\"allCappingValue\", allCappingValue);\n  indexes = getIndexesForBackgroundColours(foodWaste, allCappingValue, \"wastePerSalesCappingValues\", activeState);\n  console.log(\"indexes\", indexes);\n\n  if (indexes) {\n    indexes.targetIndexArray.map(data => {\n      // console.log(\"data\",data)\n      // console.log(\"barColors\",barColors)\n      barColors[data] = \"rgba(255, 0, 0, 0.9)\";\n      return \"\";\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, !props.hideReport && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(AccordionHeading, {\n    color: \"primPurpleBackgroundColor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"section-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 11\n    }\n  }, \"WASTE per SALES\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    onClick: () => {\n      props.setWastePerSales(!props.wastePerSales);\n      setItemInLocalStorage(\"showWastePerSales\", !props.wastePerSales);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 13\n    }\n  }, props.wastePerSales ? \"X \" : \"| | | \"))), /*#__PURE__*/React.createElement(AccordionBody, {\n    open: props.wastePerSales,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: props.showDarkTheme ? \"darkTheme__reportBackgroundColor addPaddingOfHalveRem\" : \"originalTheme__reportBackgroundColor addPaddingOfHalveRem\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"graph__row addSpaceBetween\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"report-subtitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 13\n    }\n  }, siteName), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"graph__heading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 13\n    }\n  }, \"WASTE PER SALES\", /*#__PURE__*/React.createElement(\"div\", {\n    className: \"applyMarginRightAndLeft\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 15\n    }\n  }, props.showPounds ? \"(Â£)\" : \"(Kg)\", \" /Person in \", monthName, \" \", year))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"graph__row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"graph__labelWrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"graph__label applyMarginRightAndLeft\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 17\n    }\n  }, year), \" \", /*#__PURE__*/React.createElement(\"div\", {\n    className: \"graph__label applyMarginRightAndLeft\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 17\n    }\n  }, monthName), \" \", /*#__PURE__*/React.createElement(\"div\", {\n    className: \"graph__label applyMarginRightAndLeft\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 17\n    }\n  }, \"Total Waste\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"applyMarginRightAndLeft graph__label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 17\n    }\n  }, \"C\"), /*#__PURE__*/React.createElement(\"div\", {\n    id: 1,\n    key: 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: props.showDarkTheme ? \"darkTheme__numberColor\" : \"applyBlueTuckGreen\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 19\n    }\n  }, totalCoverWaste)), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 17\n    }\n  }, \"+\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"graph__label applyMarginRightAndLeft\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 17\n    }\n  }, \"S\"), /*#__PURE__*/React.createElement(\"div\", {\n    id: 2,\n    key: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: props.showDarkTheme ? \"darkTheme__numberColor\" : \"applyBlueTuckGreen\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 19\n    }\n  }, totalSpoilageWaste)), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 17\n    }\n  }, \"+\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"applyMarginRightAndLeft graph__label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 17\n    }\n  }, \"P\"), /*#__PURE__*/React.createElement(\"div\", {\n    id: 3,\n    key: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: props.showDarkTheme ? \"darkTheme__numberColor\" : \"applyBlueTuckGreen\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 19\n    }\n  }, totalPrepWaste, \" = \", totalAllWaste)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"graph__row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"graph__labelWrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"graph__label applyMarginRightAndLeft\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 15\n    }\n  }, year, \" \", monthName, \" Total Monthly Sales\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"applyBlueTuckGreen\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 15\n    }\n  }, totalSalesInputs))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"graph__row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"graph__labelWrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"graph__label applyMarginRightAndLeft\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 15\n    }\n  }, \"Do we have Monthly Sales Inputs data in \", monthName, \" \", year, \"? \", percentageOfInputsAreZeros > 50 ? \"NO\" : \"YES\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard__wrapperForSelector\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard__selector\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Tooltip, {\n    open: tooltipIsOpen // onOpen={() => setTooltipIsOpen(true)}\n    ,\n    onClose: () => setTooltipIsOpen(false),\n    title: \"click on C, S, P or All waste stream\",\n    arrow: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: activeState.coverSelector ? \"active\" : \"inactive\",\n    id: 0,\n    onClick: () => {\n      toggleActive(\"coverSelector\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 17\n    }\n  }, \"C\")), /*#__PURE__*/React.createElement(Tooltip, {\n    open: tooltipIsOpen // onOpen={() => setTooltipIsOpen(true)}\n    ,\n    onClose: () => setTooltipIsOpen(false),\n    arrow: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: activeState.spoilageSelector ? \"active\" : \"inactive\",\n    id: 1,\n    onClick: () => {\n      toggleActive(\"spoilageSelector\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 17\n    }\n  }, \"S\")), /*#__PURE__*/React.createElement(Tooltip, {\n    open: tooltipIsOpen // onOpen={() => setTooltipIsOpen(true)}\n    ,\n    onClose: () => setTooltipIsOpen(false),\n    arrow: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: activeState.preparationSelector ? \"active\" : \"inactive\",\n    id: 2,\n    onClick: () => {\n      toggleActive(\"preparationSelector\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 17\n    }\n  }, \"P\")), /*#__PURE__*/React.createElement(\"h2\", {\n    className: activeState.allSelector ? \"active\" : \"inactive\",\n    id: 3,\n    onClick: () => {\n      toggleActive(\"allSelector\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 17\n    }\n  }, \"ALL\"))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Capping, {\n    coverWastes: wastePerSalesCoverWastes,\n    spoilageWastes: wastePerSalesSpoilageWastes,\n    prepWastes: wastePerSalesPrepWastes,\n    showPounds: props.showPounds,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 424,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard__wrapperForGraph\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 432,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"100%\",\n      overflow: \"auto\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 433,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Bar, {\n    data: {\n      labels: foodWasteXaxis,\n      wasteSteamsValue: wasteStreamValue,\n      inputData: inputsData,\n      datasets: [{\n        label: \"array 1\",\n        data: props.showPounds ? displayValue.map(data => {\n          if (data) {\n            return (data * 2.775).toFixed(2);\n          }\n        }) : displayValue,\n        backgroundColor: barColors,\n        categoryPercentage: 1.0,\n        barPercentage: 0.5\n      }]\n    },\n    width: graphWidth,\n    height: graphHeight,\n    options: {\n      responsive: true,\n      maintainAspectRatio: true,\n      layout: {\n        padding: {\n          left: 25,\n          right: 25,\n          top: 10,\n          bottom: 10\n        }\n      },\n      scales: {\n        xAxes: [{\n          display: true,\n          gridLines: {\n            display: false\n          },\n          ticks: {\n            autoSkip: false,\n            fontSize: 7\n          }\n        }],\n        yAxes: [{\n          gridLines: {\n            display: false\n          },\n          ticks: {\n            maxTicksLimit: 4,\n            display: false,\n            beginAtZero: true,\n            max: maxNumber\n          }\n        }]\n      },\n      plugins: {\n        datalabels: {\n          display: true,\n          color: \"rgb(47, 64, 30)\",\n          anchor: \"end\",\n          align: \"end\",\n          clamp: true,\n          backgroundColor: null,\n          borderColor: null,\n          borderRadius: 4,\n          borderWidth: 1,\n          font: {\n            // size: fontSize,\n            size: 5,\n            weight: 900\n          },\n          offset: 4\n        }\n      },\n      tooltips: {\n        enabled: true,\n        callbacks: {\n          title: function (tooltipItems, data) {\n            return '';\n          },\n          label: function (tooltipItem, data) {\n            // console.log(\"inputData\",data.inputData[tooltipItem.index]);\n            // console.log(\"wasteSteamsValue\",data.wasteSteamsValue[tooltipItem.index]);\n            // console.log(\"data.inputData\",data.inputData)\n            // console.log(\"data.wasteSteamsValue\",data.wasteSteamsValue)\n            // console.log(\"index\",tooltipItem.index);\n            // console.log(\"data\",data);\n            let inputData = data.inputData[tooltipItem.index]; // console.log(\"data\",data)\n            // console.log(\"tooltipItem.index\",tooltipItem.index)\n            // console.log(\"data.wasteSteamsValue[tooltipItem.index]\",data.wasteSteamsValue[tooltipItem.index])\n            // console.log(\"keepTwoDecimalPlacesWithoutRoundingUp(data.wasteSteamsValue[tooltipItem.index]\",keepTwoDecimalPlacesWithoutRoundingUp(data.wasteSteamsValue[tooltipItem.index]))\n\n            let wasteSteamValue = isInt(data.wasteSteamsValue[tooltipItem.index]) ? data.wasteSteamsValue[tooltipItem.index] : keepTwoDecimalPlacesWithoutRoundingUp(data.wasteSteamsValue[tooltipItem.index]);\n            const val = data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];\n            return val + \"(\" + wasteSteamValue + \"/\" + inputData + \")\";\n          }\n        }\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"graph__row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 561,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dateLabel__wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 562,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dateLabel__coverwastesSquare\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 563,\n      columnNumber: 17\n    }\n  }), \"COVER\", /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dateLabel__spoliageSquare\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 565,\n      columnNumber: 17\n    }\n  }), \"SPOILAGE\", /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dateLabel__preparationSquare\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 567,\n      columnNumber: 17\n    }\n  }), \"PREPARATION\", /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dateLabel__allWasteSquare\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 569,\n      columnNumber: 17\n    }\n  }), \"ALL\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"graph__row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 575,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"graph__selector-spacing\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 576,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"graph__title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 577,\n      columnNumber: 15\n    }\n  }, \"MONTH:\"), montlyArray.map((month, i) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: month.show ? \"active applyMarginRightAndLeft applyPurpleColor\" : \"displayNone\",\n      key: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 582,\n        columnNumber: 19\n      }\n    }, month.month);\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"applyMarginRightAndLeft clickable\",\n    onClick: () => {\n      handleMonthly(\"NEXT\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 588,\n      columnNumber: 15\n    }\n  }, \"NEXT\"), /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"clickable\",\n    onClick: () => {\n      handleMonthly(\"PREV\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 589,\n      columnNumber: 15\n    }\n  }, \"PREV\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"graph__title clickable applyPurpleColor\",\n    onClick: () => {\n      handleSearch();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 604,\n      columnNumber: 13\n    }\n  }, \"SEARCH\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"graph__row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 615,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"graph__message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 616,\n      columnNumber: 14\n    }\n  }, \"(Starts on the first Monday of the Month)\"))))));\n}","map":{"version":3,"sources":["/Users/james/Documents/CODE/GREENKODE_DASHBOARD/greenkode-dashboard/frontend/greenkode/src/shared/components/containers/reports/waste-per-sales-report.js"],"names":["React","useContext","useEffect","useState","Bar","useWindowDimensions","WastePerSalesContext","WasteCapContext","WasteLabelsContext","AccordionHeading","AccordionBody","setItemInLocalStorage","maxNumForCoverPerWasteChartFunction","keepTwoDecimalPlacesWithoutRoundingUp","isInt","getIndexesForBackgroundColours","Capping","Tooltip","graphWidth","graphHeight","WastePerSalesGraph","props","allCappingValue","wastePerSalesCoverWastes","wastePerSalesSpoilageWastes","wastePerSalesPrepWastes","labels","tooltipIsOpen","setTooltipIsOpen","totalCW","count","totalPW","totalSW","totalWaste","monthName","selectedYear","totalSalesInputs","percentageOfInputsAreZeros","display","toggleActive","activeState","montlyArray","yearlyArray","handleSearch","searchError","siteName","handleMonthly","wasteSteamValue","salesInputDataArray","datesLabel","foodWaste","foodWasteXaxis","showTooltip","displayValue","setDisplay","totalCoverWaste","setTotalCW","totalPrepWaste","setTotalPW","totalSpoilageWaste","setTotalSW","totalAllWaste","setTotalWaste","showSearchError","setShowSearchError","year","setSelectedYear","maxNumber","setMaxNumber","inputsData","setInputsData","wasteStreamValue","setWasteStreamValue","wastePerSales","showPounds","monetaryValues","map","data","width","indexes","barColors","console","log","targetIndexArray","hideReport","setWastePerSales","showDarkTheme","coverSelector","spoilageSelector","preparationSelector","allSelector","justifyContent","overflow","wasteSteamsValue","inputData","datasets","label","toFixed","backgroundColor","categoryPercentage","barPercentage","responsive","maintainAspectRatio","layout","padding","left","right","top","bottom","scales","xAxes","gridLines","ticks","autoSkip","fontSize","yAxes","maxTicksLimit","beginAtZero","max","plugins","datalabels","color","anchor","align","clamp","borderColor","borderRadius","borderWidth","font","size","weight","offset","tooltips","enabled","callbacks","title","tooltipItems","tooltipItem","index","val","datasetIndex","month","i","show"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,EAAuCC,QAAvC,QAAsD,OAAtD;AACA,SAASC,GAAT,QAAoB,iBAApB;AACA,OAAO,2BAAP;AACA,OAAO,2BAAP;AAEA,OAAOC,mBAAP,MAAgC,kCAAhC;AAEA,SAASC,oBAAT,QAAqC,8CAArC;AAEA,SAASC,eAAT,QAAgC,wCAAhC;AACA,SAASC,kBAAT,QAAmC,2CAAnC;AAEA,SAASC,gBAAT,EAA2BC,aAA3B,QAAgD,cAAhD;AAEA,SACEC,qBADF,EAEEC,mCAFF,QAGO,0BAHP;AAKA,SACEC,qCADF,EAEEC,KAFF,EAGEC,8BAHF,QAIO,uBAJP;AAMA,OAAOC,OAAP,MAAoB,0CAApB;AACA,OAAOC,OAAP,MAAoB,2BAApB;AAEA,IAAIC,UAAU,GAAG,GAAjB;AACA,IAAIC,WAAW,GAAG,GAAlB,C,CACA;;AAEA,eAAe,SAASC,kBAAT,CAA4BC,KAA5B,EAAmC;AAElD,QAAM;AACJC,IAAAA,eADI;AAEJC,IAAAA,wBAFI;AAGJC,IAAAA,2BAHI;AAIJC,IAAAA;AAJI,MAKFxB,UAAU,CAACM,eAAD,CALd;AAOA,QAAM;AACJmB,IAAAA;AADI,MAEDzB,UAAU,CAACO,kBAAD,CAFf;AAIA,QAAM,CAACmB,aAAD,EAAgBC,gBAAhB,IAAoC5B,KAAK,CAACG,QAAN,CAAe,IAAf,CAA1C;AAEA,QAAM;AACJ0B,IAAAA,OADI;AAEJC,IAAAA,KAFI;AAGJC,IAAAA,OAHI;AAIJC,IAAAA,OAJI;AAKJC,IAAAA,UALI;AAMJC,IAAAA,SANI;AAOJC,IAAAA,YAPI;AAQJC,IAAAA,gBARI;AASJC,IAAAA,0BATI;AAUJC,IAAAA,OAVI;AAWJC,IAAAA,YAXI;AAYJC,IAAAA,WAZI;AAaJC,IAAAA,WAbI;AAcJC,IAAAA,WAdI;AAgBJC,IAAAA,YAhBI;AAiBJC,IAAAA,WAjBI;AAkBJC,IAAAA,QAlBI;AAmBJ;AACAC,IAAAA,aApBI;AAsBJC,IAAAA,eAtBI;AAuBJC,IAAAA,mBAvBI;AAyBJC,IAAAA,UAzBI;AA0BJC,IAAAA,SA1BI;AA2BJC,IAAAA,cA3BI;AA6BJC,IAAAA;AA7BI,MA8BFnD,UAAU,CAACK,oBAAD,CA9Bd,CAfkD,CA+ChD;AACA;;AAEA,QAAM,CAAE+C,YAAF,EAAgBC,UAAhB,IAA+BtD,KAAK,CAACG,QAAN,CAAe,EAAf,CAArC;AAEA,QAAM,CAACoD,eAAD,EAAkBC,UAAlB,IAAiCrD,QAAQ,CAAC,CAAD,CAA/C;AACA,QAAM,CAACsD,cAAD,EAAiBC,UAAjB,IAAgCvD,QAAQ,CAAC,CAAD,CAA9C;AACA,QAAM,CAACwD,kBAAD,EAAqBC,UAArB,IAAoCzD,QAAQ,CAAC,CAAD,CAAlD;AACA,QAAM,CAAC0D,aAAD,EAAgBC,aAAhB,IAAkC3D,QAAQ,CAAC,CAAD,CAAhD;AAEA,QAAM,CAAC4D,eAAD,EAAkBC,kBAAlB,IAAyC7D,QAAQ,CAAC,KAAD,CAAvD;AACA,QAAM,CAAC8D,IAAD,EAAOC,eAAP,IAA0BlE,KAAK,CAACG,QAAN,CAAe,CAAf,CAAhC,CA1DgD,CA4DhD;;AACA,MAAI,CAACgE,SAAD,EAAYC,YAAZ,IAA4BpE,KAAK,CAACG,QAAN,CAAe,CAAf,CAAhC,CA7DgD,CA+DhD;;AAEA,QAAM,CAAEkE,UAAF,EAAcC,aAAd,IAAgCnE,QAAQ,CAAC,EAAD,CAA9C;AACA,QAAM,CAAEoE,gBAAF,EAAoBC,mBAApB,IAA2CrE,QAAQ,CAAC,EAAD,CAAzD,CAlEgD,CAoEhD;;AAEAD,EAAAA,SAAS,CAAC,MAAM;AAEdsE,IAAAA,mBAAmB,CAACzB,eAAD,CAAnB;AACAuB,IAAAA,aAAa,CAACtB,mBAAD,CAAb;AAEAM,IAAAA,UAAU,CAACJ,SAAD,CAAV,CALc,CAOd;AACA;AACA;;AACAM,IAAAA,UAAU,CAAC3B,OAAD,CAAV;AACA6B,IAAAA,UAAU,CAAC3B,OAAD,CAAV;AACA6B,IAAAA,UAAU,CAAC5B,OAAD,CAAV;AACA8B,IAAAA,aAAa,CAAC7B,UAAD,CAAb;AACA,QAAIkC,SAAS,GAAGvD,mCAAmC,CAAC0B,OAAD,CAAnD;AACA8B,IAAAA,YAAY,CAACD,SAAD,CAAZ;AACAH,IAAAA,kBAAkB,CAACpB,WAAD,CAAlB;AACAsB,IAAAA,eAAe,CAAC/B,YAAD,CAAf;;AAEA,QAAId,KAAK,CAACoD,aAAN,IAAuBrB,WAA3B,EAAwC;AACtCxB,MAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACD,KAFD,MAEO;AACLA,MAAAA,gBAAgB,CAAC,KAAD,CAAhB;AACD,KAvBa,CAyBd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEI;;AACL,GAtCQ,EAsCN,CACDa,WADC,EAEDC,WAFC,EAGDZ,KAHC,EAIDQ,OAJC,EAKDM,WALC,EAMDT,YANC,EAQDY,eARC,EASDC,mBATC,EAWDC,UAXC,EAYDC,SAZC,EAaDC,cAbC,EAcD9B,KAAK,CAACoD,aAdL,CAtCM,CAAT,CAtEgD,CA6HhD;;AAEA,MAAIpD,KAAK,CAACqD,UAAV,EAAsB;AACpB,QAAIpC,OAAJ,EAAa;AACX,YAAMqC,cAAc,GAAGrC,OAAO,CAACsC,GAAR,CAAaC,IAAD,IAAU;AAC3C,eAAOA,IAAI,GAAG,KAAd;AACD,OAFsB,CAAvB;AAGAV,MAAAA,SAAS,GAAGvD,mCAAmC,CAAC+D,cAAD,CAA/C;AAED;AACF,GARD,MAQO;AACLR,IAAAA,SAAS,GAAGvD,mCAAmC,CAAC0B,OAAD,CAA/C;AACD;;AAED,QAAM;AAAEwC,IAAAA;AAAF,MAAYzE,mBAAmB,EAArC;;AAEA,MAAIyE,KAAK,IAAI,GAAb,EAAkB;AAChB5D,IAAAA,UAAU,GAAG,GAAb;AACAC,IAAAA,WAAW,GAAG,EAAd;AACD,GAHD,MAGO,IAAI2D,KAAK,IAAI,IAAb,EAAmB;AACxB5D,IAAAA,UAAU,GAAG,GAAb;AACAC,IAAAA,WAAW,GAAG,GAAd;AACD,GAnJ+C,CAqJhD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,MAAI4D,OAAJ;AAEA,MAAIC,SAAS,GAAG,CACd,mBADc,EAEd,mBAFc,EAGd,mBAHc,EAId,mBAJc,EAKd,mBALc,EAMd,mBANc,EAOd,mBAPc,EAQd,mBARc,EASd,mBATc,EAUd,mBAVc,EAWd,mBAXc,EAYd,mBAZc,EAad,mBAbc,EAcd,mBAdc,EAed,mBAfc,EAgBd,mBAhBc,EAiBd,mBAjBc,EAkBd,mBAlBc,EAmBd,mBAnBc,EAoBd,mBApBc,EAqBd,mBArBc,EAsBd,mBAtBc,EAuBd,mBAvBc,EAwBd,mBAxBc,EAyBd,mBAzBc,EA0Bd,mBA1Bc,EA2Bd,mBA3Bc,EA4Bd,mBA5Bc,EA6Bd,mBA7Bc,EA8Bd,mBA9Bc,EA+Bd,mBA/Bc,EAgCd,mBAhCc,EAiCd,mBAjCc,EAkCd,mBAlCc,EAmCd,mBAnCc,EAoCd,mBApCc,EAqCd,mBArCc,EAsCd,mBAtCc,EAuCd,mBAvCc,EAwCd,mBAxCc,EAyCd,mBAzCc,EA0Cd,mBA1Cc,CAAhB;AA8CAC,EAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAwBhC,SAAxB;AACA+B,EAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA8B5D,eAA9B;AAEAyD,EAAAA,OAAO,GAAGhE,8BAA8B,CAACmC,SAAD,EAAW5B,eAAX,EAA4B,4BAA5B,EAA0DkB,WAA1D,CAAxC;AACAyC,EAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAsBH,OAAtB;;AAEA,MAAIA,OAAJ,EAAa;AACXA,IAAAA,OAAO,CAACI,gBAAR,CAAyBP,GAAzB,CAA8BC,IAAD,IAAU;AACrC;AACA;AAEAG,MAAAA,SAAS,CAACH,IAAD,CAAT,GAAkB,sBAAlB;AACA,aAAO,EAAP;AACD,KAND;AAOD;;AAED,sBAEE,0CACG,CAACxD,KAAK,CAAC+D,UAAP,iBACD,uDACE,oBAAC,gBAAD;AAAkB,IAAA,KAAK,EAAE,2BAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEE;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAFF,eAGE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,OAAO,EAAE,MACX;AACE/D,MAAAA,KAAK,CAACgE,gBAAN,CAAuB,CAAChE,KAAK,CAACoD,aAA9B;AACA9D,MAAAA,qBAAqB,CAAC,mBAAD,EAAsB,CAACU,KAAK,CAACoD,aAA7B,CAArB;AACD,KAJL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOKpD,KAAK,CAACoD,aAAN,GACD,IADC,GAGD,QAVJ,CADF,CAHF,CADF,eAqBE,oBAAC,aAAD;AAAe,IAAA,IAAI,EAAEpD,KAAK,CAACoD,aAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEA;AAAK,IAAA,SAAS,EAAIpD,KAAK,CAACiE,aAAN,GAAsB,uDAAtB,GAA+E,2DAAjG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEE;AAAK,IAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAkCzC,QAAlC,CADF,eAEE;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCACE;AAAK,IAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA0CxB,KAAK,CAACqD,UAAN,GAAkB,KAAlB,GAA0B,MAApE,kBAAyFxC,SAAzF,OAAqG+B,IAArG,CADF,CAFF,CAFF,eASE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEE;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI;AAAK,IAAA,SAAS,EAAC,sCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAuDA,IAAvD,CAFJ,EAGK,GAHL,eAII;AAAK,IAAA,SAAS,EAAC,sCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAuD/B,SAAvD,CAJJ,EAKK,GALL,eAMI;AAAK,IAAA,SAAS,EAAC,sCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBANJ,eASI;AAAK,IAAA,SAAS,EAAC,sCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SATJ,eAYI;AACE,IAAA,EAAE,EAAE,CADN;AAEE,IAAA,GAAG,EAAE,CAFP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAIE;AAAK,IAAA,SAAS,EAAEb,KAAK,CAACiE,aAAN,GAAqB,wBAArB,GAA+C,oBAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG/B,eADH,CAJF,CAZJ,eAoBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SApBJ,eAqBI;AAAK,IAAA,SAAS,EAAC,sCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SArBJ,eAwBI;AACE,IAAA,EAAE,EAAE,CADN;AAEE,IAAA,GAAG,EAAE,CAFP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAIE;AAAK,IAAA,SAAS,EAAElC,KAAK,CAACiE,aAAN,GAAqB,wBAArB,GAA+C,oBAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG3B,kBADH,CAJF,CAxBJ,eAgCI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAhCJ,eAiCI;AAAK,IAAA,SAAS,EAAC,sCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAjCJ,eAoCI;AACE,IAAA,EAAE,EAAE,CADN;AAEE,IAAA,GAAG,EAAE,CAFP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAIE;AAAK,IAAA,SAAS,EAAEtC,KAAK,CAACiE,aAAN,GAAqB,wBAArB,GAA+C,oBAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG7B,cADH,SACsBI,aADtB,CAJF,CApCJ,CAFF,CATF,eA2DE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,sCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAuDI,IAAvD,OAA8D/B,SAA9D,yBADF,eAEE;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAqCE,gBAArC,CAFF,CADF,CA3DF,eAiEE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,sCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iDAA+FF,SAA/F,OAA2G+B,IAA3G,QAAmH5B,0BAA0B,GAAG,EAA7B,GAAkC,IAAlC,GAAyC,KAA5J,CADF,CADF,CAjEF,eAwEE;AAAK,IAAA,SAAS,EAAC,+BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEE,oBAAC,OAAD;AACE,IAAA,IAAI,EAAEV,aADR,CAEE;AAFF;AAGE,IAAA,OAAO,EAAE,MAAMC,gBAAgB,CAAC,KAAD,CAHjC;AAIE,IAAA,KAAK,EAAC,sCAJR;AAKE,IAAA,KAAK,MALP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAQA;AACE,IAAA,SAAS,EAAEY,WAAW,CAAC+C,aAAZ,GAA4B,QAA5B,GAAuC,UADpD;AAEE,IAAA,EAAE,EAAE,CAFN;AAGE,IAAA,OAAO,EAAE,MAAM;AACbhD,MAAAA,YAAY,CAAC,eAAD,CAAZ;AACD,KALH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SARA,CAFF,eAoBE,oBAAC,OAAD;AACE,IAAA,IAAI,EAAEZ,aADR,CAEE;AAFF;AAGE,IAAA,OAAO,EAAE,MAAMC,gBAAgB,CAAC,KAAD,CAHjC;AAIE,IAAA,KAAK,MAJP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAOA;AACE,IAAA,SAAS,EAAEY,WAAW,CAACgD,gBAAZ,GAA+B,QAA/B,GAA0C,UADvD;AAEE,IAAA,EAAE,EAAE,CAFN;AAGE,IAAA,OAAO,EAAE,MAAM;AACbjD,MAAAA,YAAY,CAAC,kBAAD,CAAZ;AACD,KALH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAPA,CApBF,eAqCE,oBAAC,OAAD;AACE,IAAA,IAAI,EAAEZ,aADR,CAEE;AAFF;AAGE,IAAA,OAAO,EAAE,MAAMC,gBAAgB,CAAC,KAAD,CAHjC;AAIE,IAAA,KAAK,MAJP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAOA;AACE,IAAA,SAAS,EAAEY,WAAW,CAACiD,mBAAZ,GAAkC,QAAlC,GAA6C,UAD1D;AAEE,IAAA,EAAE,EAAE,CAFN;AAGE,IAAA,OAAO,EAAE,MAAM;AACblD,MAAAA,YAAY,CAAC,qBAAD,CAAZ;AACD,KALH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAPA,CArCF,eAsDE;AACE,IAAA,SAAS,EAAEC,WAAW,CAACkD,WAAZ,GAA0B,QAA1B,GAAqC,UADlD;AAEE,IAAA,EAAE,EAAE,CAFN;AAGE,IAAA,OAAO,EAAE,MAAM;AACbnD,MAAAA,YAAY,CAAC,aAAD,CAAZ;AACD,KALH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAtDF,CADJ,CAxEF,eAyIE;AAAK,IAAA,KAAK,EAAE;AACVD,MAAAA,OAAO,EAAE,MADC;AAEVqD,MAAAA,cAAc,EAAE;AAFN,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAIE,oBAAC,OAAD;AACE,IAAA,WAAW,EAAEpE,wBADf;AAEE,IAAA,cAAc,EAAEC,2BAFlB;AAGE,IAAA,UAAU,EAAEC,uBAHd;AAIE,IAAA,UAAU,EAAEJ,KAAK,CAACqD,UAJpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,CAzIF,eAqJE;AAAK,IAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,KAAK,EAAE;AACLI,MAAAA,KAAK,EAAE,MADF;AAELc,MAAAA,QAAQ,EAAE;AAFL,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAOE,oBAAC,GAAD;AACI,IAAA,IAAI,EAAE;AACJlE,MAAAA,MAAM,EAAEyB,cADJ;AAEJ0C,MAAAA,gBAAgB,EAAEtB,gBAFd;AAGJuB,MAAAA,SAAS,EAAEzB,UAHP;AAIJ0B,MAAAA,QAAQ,EAAE,CACR;AACEC,QAAAA,KAAK,EAAE,SADT;AAEEnB,QAAAA,IAAI,EAAExD,KAAK,CAACqD,UAAN,GAAkBrB,YAAY,CAACuB,GAAb,CAAkBC,IAAD,IAAU;AACjD,cAAIA,IAAJ,EAAU;AACR,mBAAO,CAACA,IAAI,GAAG,KAAR,EAAeoB,OAAf,CAAuB,CAAvB,CAAP;AACD;AACF,SAJuB,CAAlB,GAID5C,YANP;AAOE6C,QAAAA,eAAe,EAAElB,SAPnB;AAQEmB,QAAAA,kBAAkB,EAAE,GARtB;AASEC,QAAAA,aAAa,EAAE;AATjB,OADQ;AAJN,KADV;AAmBI,IAAA,KAAK,EAAElF,UAnBX;AAoBI,IAAA,MAAM,EAAEC,WApBZ;AAqBI,IAAA,OAAO,EAAE;AACPkF,MAAAA,UAAU,EAAE,IADL;AAEPC,MAAAA,mBAAmB,EAAE,IAFd;AAGPC,MAAAA,MAAM,EAAE;AACNC,QAAAA,OAAO,EAAE;AACLC,UAAAA,IAAI,EAAE,EADD;AAELC,UAAAA,KAAK,EAAE,EAFF;AAGLC,UAAAA,GAAG,EAAE,EAHA;AAILC,UAAAA,MAAM,EAAE;AAJH;AADH,OAHD;AAWPC,MAAAA,MAAM,EAAE;AACNC,QAAAA,KAAK,EAAE,CACL;AACExE,UAAAA,OAAO,EAAE,IADX;AAEEyE,UAAAA,SAAS,EAAE;AACTzE,YAAAA,OAAO,EAAE;AADA,WAFb;AAKE0E,UAAAA,KAAK,EAAE;AACLC,YAAAA,QAAQ,EAAE,KADL;AAELC,YAAAA,QAAQ,EAAE;AAFL;AALT,SADK,CADD;AAaNC,QAAAA,KAAK,EAAE,CACL;AACEJ,UAAAA,SAAS,EAAE;AACTzE,YAAAA,OAAO,EAAE;AADA,WADb;AAIE0E,UAAAA,KAAK,EAAE;AACLI,YAAAA,aAAa,EAAE,CADV;AAEL9E,YAAAA,OAAO,EAAE,KAFJ;AAGL+E,YAAAA,WAAW,EAAE,IAHR;AAILC,YAAAA,GAAG,EAAEnD;AAJA;AAJT,SADK;AAbD,OAXD;AAuCPoD,MAAAA,OAAO,EAAE;AACPC,QAAAA,UAAU,EAAE;AACVlF,UAAAA,OAAO,EAAE,IADC;AAEVmF,UAAAA,KAAK,EAAE,iBAFG;AAGVC,UAAAA,MAAM,EAAE,KAHE;AAIVC,UAAAA,KAAK,EAAE,KAJG;AAKVC,UAAAA,KAAK,EAAE,IALG;AAMV1B,UAAAA,eAAe,EAAE,IANP;AAOV2B,UAAAA,WAAW,EAAE,IAPH;AAQVC,UAAAA,YAAY,EAAE,CARJ;AASVC,UAAAA,WAAW,EAAE,CATH;AAUVC,UAAAA,IAAI,EAAE;AACJ;AACAC,YAAAA,IAAI,EAAE,CAFF;AAGJC,YAAAA,MAAM,EAAE;AAHJ,WAVI;AAeVC,UAAAA,MAAM,EAAE;AAfE;AADL,OAvCF;AA2DPC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,OAAO,EAAE,IADD;AAERC,QAAAA,SAAS,EAAE;AACTC,UAAAA,KAAK,EAAE,UAASC,YAAT,EAAuB3D,IAAvB,EAA6B;AAClC,mBAAO,EAAP;AACD,WAHQ;AAITmB,UAAAA,KAAK,EAAE,UAASyC,WAAT,EAAsB5D,IAAtB,EAA4B;AAEjC;AACA;AAEA;AACA;AAEA;AAEA;AAEA,gBAAIiB,SAAS,GAAGjB,IAAI,CAACiB,SAAL,CAAe2C,WAAW,CAACC,KAA3B,CAAhB,CAZiC,CAcjC;AACA;AAEA;AACA;;AAEA,gBAAI3F,eAAe,GAAGjC,KAAK,CAAC+D,IAAI,CAACgB,gBAAL,CAAsB4C,WAAW,CAACC,KAAlC,CAAD,CAAL,GAAkD7D,IAAI,CAACgB,gBAAL,CAAsB4C,WAAW,CAACC,KAAlC,CAAlD,GAA8F7H,qCAAqC,CAACgE,IAAI,CAACgB,gBAAL,CAAsB4C,WAAW,CAACC,KAAlC,CAAD,CAAzJ;AAEA,kBAAMC,GAAG,GAAG9D,IAAI,CAACkB,QAAL,CAAc0C,WAAW,CAACG,YAA1B,EAAwC/D,IAAxC,CAA6C4D,WAAW,CAACC,KAAzD,CAAZ;AACA,mBAAOC,GAAG,GAAG,GAAN,GAAa5F,eAAb,GAA+B,GAA/B,GAAqC+C,SAArC,GAAiD,GAAxD;AACD;AA5BQ;AAFH;AA3DH,KArBb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,CADF,CArJF,eAsRE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,8BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,wBAGE;AAAK,IAAA,SAAS,EAAC,2BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,2BAKE;AAAK,IAAA,SAAS,EAAC,8BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,8BAOE;AAAK,IAAA,SAAS,EAAC,2BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,QADJ,CAtRF,eAoSE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,EAIGrD,WAAW,CAACmC,GAAZ,CAAgB,CAACiE,KAAD,EAAQC,CAAR,KAAc;AAC7B,wBACE;AAAK,MAAA,SAAS,EAAED,KAAK,CAACE,IAAN,GAAY,iDAAZ,GAA+D,aAA/E;AAA8F,MAAA,GAAG,EAAED,CAAnG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGD,KAAK,CAACA,KADT,CADF;AAKD,GANA,CAJH,eAYE;AAAI,IAAA,SAAS,EAAC,mCAAd;AAAkD,IAAA,OAAO,EAAE,MAAM;AAAC/F,MAAAA,aAAa,CAAC,MAAD,CAAb;AAAsB,KAAxF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAZF,eAaE;AAAI,IAAA,SAAS,EAAC,WAAd;AAA0B,IAAA,OAAO,EAAE,MAAM;AAACA,MAAAA,aAAa,CAAC,MAAD,CAAb;AAAsB,KAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAbF,CADF,eA6BE;AAAK,IAAA,SAAS,EAAC,yCAAf;AAAyD,IAAA,OAAO,EAAE,MAAM;AAACH,MAAAA,YAAY;AAAG,KAAxF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cA7BF,CApSF,eA4UE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACG;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iDADH,CA5UF,CAFA,CArBF,CAFF,CAFF;AAqXD","sourcesContent":["import React, { useContext, useEffect, useState} from \"react\";\nimport { Bar } from \"react-chartjs-2\";\nimport \"chartjs-plugin-annotation\";\nimport \"chartjs-plugin-datalabels\";\n\nimport useWindowDimensions from \"../../libs/use-window-dimensions\";\n\nimport { WastePerSalesContext } from \"../../../../contexts/waste-per-sales-context\";\n\nimport { WasteCapContext } from \"../../../../contexts/waste-cap-context\";\nimport { WasteLabelsContext } from \"../../../../contexts/waste-labels-context\";\n\nimport { AccordionHeading, AccordionBody } from \"../accordion\"\n\nimport {\n  setItemInLocalStorage,\n  maxNumForCoverPerWasteChartFunction\n} from \"../../../../utilities.js\";\n\nimport {\n  keepTwoDecimalPlacesWithoutRoundingUp,\n  isInt,\n  getIndexesForBackgroundColours\n} from \"../../../../helper.js\";\n\nimport Capping from \"./../reuseable-components/labels/capping\"\nimport Tooltip from \"@material-ui/core/Tooltip\";\n\nlet graphWidth = 500;\nlet graphHeight = 220;\n// let fontSize = 7\n\nexport default function WastePerSalesGraph(props) {\n\nconst {\n  allCappingValue,\n  wastePerSalesCoverWastes,\n  wastePerSalesSpoilageWastes,\n  wastePerSalesPrepWastes,\n} = useContext(WasteCapContext);\n\nconst {\n  labels\n } = useContext(WasteLabelsContext);\n\nconst [tooltipIsOpen, setTooltipIsOpen] = React.useState(true);\n\nconst {\n  totalCW,\n  count,\n  totalPW,\n  totalSW,\n  totalWaste,\n  monthName,\n  selectedYear,\n  totalSalesInputs,\n  percentageOfInputsAreZeros,\n  display,\n  toggleActive,\n  activeState,\n  montlyArray,\n  yearlyArray,\n\n  handleSearch,\n  searchError,\n  siteName,\n  // handleYearly,\n  handleMonthly,\n\n  wasteSteamValue,\n  salesInputDataArray,\n\n  datesLabel,\n  foodWaste,\n  foodWasteXaxis,\n\n  showTooltip\n} = useContext(WastePerSalesContext);\n\n  // const [ monthly, setMonthlyArray] = React.useState([])\n  // const [ yearly, setYearlyArray ] = React.useState([])\n\n  const [ displayValue, setDisplay ] = React.useState([])\n\n  const [totalCoverWaste, setTotalCW ] = useState(0)\n  const [totalPrepWaste, setTotalPW ] = useState(0)\n  const [totalSpoilageWaste, setTotalSW ] = useState(0)\n  const [totalAllWaste, setTotalWaste ] = useState(0)\n\n  const [showSearchError, setShowSearchError ] = useState(false)\n  const [year, setSelectedYear] = React.useState(0);\n\n  // let maxNumber = 1;\n  let [maxNumber, setMaxNumber] = React.useState(1);\n\n  // let barColors = \"rgba(15, 128, 140, 0.5)\"\n\n  const [ inputsData, setInputsData ] = useState([])\n  const [ wasteStreamValue, setWasteStreamValue] = useState([])\n\n  // const [label, setLabel ] = useState([])\n\n  useEffect(() => {\n\n    setWasteStreamValue(wasteSteamValue);\n    setInputsData(salesInputDataArray);\n\n    setDisplay(foodWaste)\n\n    // setMonthlyArray(montlyArray)\n    // setYearlyArray(yearlyArray)\n    // setDisplay(display)\n    setTotalCW(totalCW)\n    setTotalPW(totalPW)\n    setTotalSW(totalSW)\n    setTotalWaste(totalWaste)\n    let maxNumber = maxNumForCoverPerWasteChartFunction(display)\n    setMaxNumber(maxNumber)\n    setShowSearchError(searchError)\n    setSelectedYear(selectedYear)\n\n    if (props.wastePerSales && showTooltip) {\n      setTooltipIsOpen(true)\n    } else {\n      setTooltipIsOpen(false)\n    }\n\n    // setWeekOneArray(weekOneArray)\n    // setWeekTwo(weekTwoArray)\n    // setWeekThree(weekThreeArray)\n    // setWeekFour(weekFourArray)\n    // setWeekFive(weekFiveArray)\n    // setWeekSix(weekSixArray)\n    // setWeekSeven(weekSevenArray)\n    // setDates(dates)\n\n    // console.log(\"datesLabel\",datesLabel)\n    // setLabel(datesLabel)\n\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [\n    montlyArray,\n    yearlyArray,\n    count,\n    display,\n    searchError,\n    selectedYear,\n\n    wasteSteamValue,\n    salesInputDataArray,\n\n    datesLabel,\n    foodWaste,\n    foodWasteXaxis,\n    props.wastePerSales\n  ])\n\n  // console.log(\"label\",label)\n\n  if (props.showPounds) {\n    if (display) {\n      const monetaryValues = display.map((data) => {\n        return data * 2.775;\n      })\n      maxNumber = maxNumForCoverPerWasteChartFunction(monetaryValues)\n\n    }\n  } else {\n    maxNumber = maxNumForCoverPerWasteChartFunction(display)\n  }\n\n  const { width } = useWindowDimensions();\n\n  if (width <= 700) {\n    graphWidth = 260;\n    graphHeight = 65;\n  } else if (width >= 1600) {\n    graphWidth = 700;\n    graphHeight = 250;\n  }\n\n  // if (activeState.coverSelector) {\n  //   barColors = \"rgba(140, 112, 140, 0.5)\"\n  // } else if (activeState.spoilageSelector) {\n  //   barColors = \"#ff8c00\"\n  // } else if (activeState.preparationSelector) {\n  //   barColors = \"rgba(133, 165, 101, 0.5)\"\n  // } else {\n  //   barColors = \"rgba(15, 128, 140, 0.5)\"\n  // }\n\n  let indexes;\n\n  let barColors = [\n    \"rgb(178, 191, 80)\",\n    \"rgb(178, 191, 80)\",\n    \"rgb(178, 191, 80)\",\n    \"rgb(178, 191, 80)\",\n    \"rgb(178, 191, 80)\",\n    \"rgb(178, 191, 80)\",\n    \"rgb(178, 191, 80)\",\n    \"rgb(178, 191, 80)\",\n    \"rgb(178, 191, 80)\",\n    \"rgb(178, 191, 80)\",\n    \"rgb(178, 191, 80)\",\n    \"rgb(178, 191, 80)\",\n    \"rgb(178, 191, 80)\",\n    \"rgb(178, 191, 80)\",\n    \"rgb(178, 191, 80)\",\n    \"rgb(178, 191, 80)\",\n    \"rgb(178, 191, 80)\",\n    \"rgb(178, 191, 80)\",\n    \"rgb(178, 191, 80)\",\n    \"rgb(178, 191, 80)\",\n    \"rgb(178, 191, 80)\",\n    \"rgb(178, 191, 80)\",\n    \"rgb(178, 191, 80)\",\n    \"rgb(178, 191, 80)\",\n    \"rgb(178, 191, 80)\",\n    \"rgb(178, 191, 80)\",\n    \"rgb(178, 191, 80)\",\n    \"rgb(178, 191, 80)\",\n    \"rgb(178, 191, 80)\",\n    \"rgb(178, 191, 80)\",\n    \"rgb(178, 191, 80)\",\n    \"rgb(178, 191, 80)\",\n    \"rgb(178, 191, 80)\",\n    \"rgb(178, 191, 80)\",\n    \"rgb(178, 191, 80)\",\n    \"rgb(178, 191, 80)\",\n    \"rgb(178, 191, 80)\",\n    \"rgb(178, 191, 80)\",\n    \"rgb(178, 191, 80)\",\n    \"rgb(178, 191, 80)\",\n    \"rgb(178, 191, 80)\",\n    \"rgb(178, 191, 80)\",\n  ];\n\n\n  console.log(\"foodWaste\",foodWaste)\n  console.log(\"allCappingValue\",allCappingValue)\n\n  indexes = getIndexesForBackgroundColours(foodWaste,allCappingValue, \"wastePerSalesCappingValues\", activeState);\n  console.log(\"indexes\",indexes);\n\n  if (indexes) {\n    indexes.targetIndexArray.map((data) => {\n      // console.log(\"data\",data)\n      // console.log(\"barColors\",barColors)\n\n      barColors[data] = \"rgba(255, 0, 0, 0.9)\";\n      return \"\"\n    })\n  }\n\n  return (\n\n    <>\n      {!props.hideReport &&\n      <>\n        <AccordionHeading color={\"primPurpleBackgroundColor\"}>\n\n          <div className=\"section-title\">WASTE per SALES</div>\n          <div className=\"container\">\n            <span onClick={() =>\n                {\n                  props.setWastePerSales(!props.wastePerSales)\n                  setItemInLocalStorage(\"showWastePerSales\", !props.wastePerSales)\n                }\n                }>\n\n                {props.wastePerSales ? (\n                \"X \")\n                :\n                \"| | | \"\n                }\n            </span>\n          </div>\n\n        </AccordionHeading>\n        <AccordionBody open={props.wastePerSales}>\n\n        <div className= { props.showDarkTheme ? \"darkTheme__reportBackgroundColor addPaddingOfHalveRem\": \"originalTheme__reportBackgroundColor addPaddingOfHalveRem\"}>\n\n          <div className=\"graph__row addSpaceBetween\">\n            <div className=\"report-subtitle\">{siteName}</div>\n            <div className=\"graph__heading\">WASTE PER SALES\n              <div className=\"applyMarginRightAndLeft\">{props.showPounds? \"(Â£)\" : \"(Kg)\" } /Person in {monthName} {year}</div>\n            </div>\n          </div>\n\n          <div className=\"graph__row\">\n\n            <div className=\"graph__labelWrapper\">\n\n                <div className=\"graph__label applyMarginRightAndLeft\">{year}</div>\n                {\" \"}\n                <div className=\"graph__label applyMarginRightAndLeft\">{monthName}</div>\n                {\" \"}\n                <div className=\"graph__label applyMarginRightAndLeft\">\n                  Total Waste\n                </div>\n                <div className=\"applyMarginRightAndLeft graph__label\">\n                    C\n                </div>\n                <div\n                  id={1}\n                  key={0}\n                >\n                  <div className={props.showDarkTheme? \"darkTheme__numberColor\" :\"applyBlueTuckGreen\"}>\n                    {totalCoverWaste}\n                  </div>\n                </div>\n                <div>+</div>\n                <div className=\"graph__label applyMarginRightAndLeft\">\n                    S\n                 </div>\n                <div\n                  id={2}\n                  key={1}\n                >\n                  <div className={props.showDarkTheme? \"darkTheme__numberColor\" :\"applyBlueTuckGreen\"}>\n                    {totalSpoilageWaste}\n                  </div>\n                </div>\n                <div>+</div>\n                <div className=\"applyMarginRightAndLeft graph__label\">\n                  P\n                </div>\n                <div\n                  id={3}\n                  key={2}\n                >\n                  <div className={props.showDarkTheme? \"darkTheme__numberColor\" :\"applyBlueTuckGreen\"}>\n                    {totalPrepWaste} = {totalAllWaste}\n                  </div>\n                </div>\n              </div>\n\n          </div>\n\n          <div className=\"graph__row\">\n            <div className=\"graph__labelWrapper\">\n              <div className=\"graph__label applyMarginRightAndLeft\">{year} {monthName} Total Monthly Sales</div>\n              <div className=\"applyBlueTuckGreen\">{totalSalesInputs}</div>\n            </div>\n          </div>\n          <div className=\"graph__row\">\n            <div className=\"graph__labelWrapper\">\n              <div className=\"graph__label applyMarginRightAndLeft\">Do we have Monthly Sales Inputs data in {monthName} {year}? {percentageOfInputsAreZeros > 50 ? \"NO\" : \"YES\"}</div>\n            </div>\n          </div>\n\n\n          <div className=\"dashboard__wrapperForSelector\">\n              <div className=\"dashboard__selector\">\n\n                <Tooltip\n                  open={tooltipIsOpen}\n                  // onOpen={() => setTooltipIsOpen(true)}\n                  onClose={() => setTooltipIsOpen(false)}\n                  title=\"click on C, S, P or All waste stream\"\n                  arrow\n                >\n\n                <h2\n                  className={activeState.coverSelector ? \"active\" : \"inactive\"}\n                  id={0}\n                  onClick={() => {\n                    toggleActive(\"coverSelector\");\n                  }}\n                  >C</h2>\n\n                </Tooltip>\n\n                <Tooltip\n                  open={tooltipIsOpen}\n                  // onOpen={() => setTooltipIsOpen(true)}\n                  onClose={() => setTooltipIsOpen(false)}\n                  arrow\n                >\n\n                <h2\n                  className={activeState.spoilageSelector ? \"active\" : \"inactive\"}\n                  id={1}\n                  onClick={() => {\n                    toggleActive(\"spoilageSelector\");\n                  }}\n                  >S</h2>\n\n                </Tooltip>\n\n                <Tooltip\n                  open={tooltipIsOpen}\n                  // onOpen={() => setTooltipIsOpen(true)}\n                  onClose={() => setTooltipIsOpen(false)}\n                  arrow\n                >\n\n                <h2\n                  className={activeState.preparationSelector ? \"active\" : \"inactive\"}\n                  id={2}\n                  onClick={() => {\n                    toggleActive(\"preparationSelector\");\n                  }}\n                  >P</h2>\n\n                </Tooltip>\n\n                <h2\n                  className={activeState.allSelector ? \"active\" : \"inactive\"}\n                  id={3}\n                  onClick={() => {\n                    toggleActive(\"allSelector\");\n                  }}\n                  >ALL</h2>\n              </div>\n          </div>\n\n          <div style={{\n            display: \"flex\",\n            justifyContent: \"center\"\n          }}>\n            <Capping\n              coverWastes={wastePerSalesCoverWastes}\n              spoilageWastes={wastePerSalesSpoilageWastes}\n              prepWastes={wastePerSalesPrepWastes}\n              showPounds={props.showPounds}\n            />\n          </div>\n\n          <div className=\"dashboard__wrapperForGraph\">\n            <div\n              style={{\n                width: \"100%\",\n                overflow: \"auto\"\n             }}\n            >\n\n              <Bar\n                  data={{\n                    labels: foodWasteXaxis,\n                    wasteSteamsValue: wasteStreamValue,\n                    inputData: inputsData,\n                    datasets: [\n                      {\n                        label: \"array 1\",\n                        data: props.showPounds? displayValue.map((data) => {\n                          if (data) {\n                            return (data * 2.775).toFixed(2)\n                          }\n                        }) : displayValue,\n                        backgroundColor: barColors,\n                        categoryPercentage: 1.0,\n                        barPercentage: 0.5\n                      },\n                    ],\n                  }}\n                  width={graphWidth}\n                  height={graphHeight}\n                  options={{\n                    responsive: true,\n                    maintainAspectRatio: true,\n                    layout: {\n                      padding: {\n                          left: 25,\n                          right: 25,\n                          top: 10,\n                          bottom: 10\n                      }\n                    },\n                    scales: {\n                      xAxes: [\n                        {\n                          display: true,\n                          gridLines: {\n                            display: false,\n                          },\n                          ticks: {\n                            autoSkip: false,\n                            fontSize: 7\n                          },\n                        },\n                      ],\n                      yAxes: [\n                        {\n                          gridLines: {\n                            display: false,\n                          },\n                          ticks: {\n                            maxTicksLimit: 4,\n                            display: false,\n                            beginAtZero: true,\n                            max: maxNumber\n                          },\n                        },\n                      ],\n                    },\n\n                    plugins: {\n                      datalabels: {\n                        display: true,\n                        color: \"rgb(47, 64, 30)\",\n                        anchor: \"end\",\n                        align: \"end\",\n                        clamp: true,\n                        backgroundColor: null,\n                        borderColor: null,\n                        borderRadius: 4,\n                        borderWidth: 1,\n                        font: {\n                          // size: fontSize,\n                          size: 5,\n                          weight: 900,\n                        },\n                        offset: 4,\n                      },\n                    },\n\n                    tooltips: {\n                      enabled: true,\n                      callbacks: {\n                        title: function(tooltipItems, data) {\n                          return '';\n                        },\n                        label: function(tooltipItem, data) {\n\n                          // console.log(\"inputData\",data.inputData[tooltipItem.index]);\n                          // console.log(\"wasteSteamsValue\",data.wasteSteamsValue[tooltipItem.index]);\n\n                          // console.log(\"data.inputData\",data.inputData)\n                          // console.log(\"data.wasteSteamsValue\",data.wasteSteamsValue)\n\n                          // console.log(\"index\",tooltipItem.index);\n\n                          // console.log(\"data\",data);\n\n                          let inputData = data.inputData[tooltipItem.index];\n\n                          // console.log(\"data\",data)\n                          // console.log(\"tooltipItem.index\",tooltipItem.index)\n\n                          // console.log(\"data.wasteSteamsValue[tooltipItem.index]\",data.wasteSteamsValue[tooltipItem.index])\n                          // console.log(\"keepTwoDecimalPlacesWithoutRoundingUp(data.wasteSteamsValue[tooltipItem.index]\",keepTwoDecimalPlacesWithoutRoundingUp(data.wasteSteamsValue[tooltipItem.index]))\n\n                          let wasteSteamValue = isInt(data.wasteSteamsValue[tooltipItem.index]) ? data.wasteSteamsValue[tooltipItem.index] :  keepTwoDecimalPlacesWithoutRoundingUp(data.wasteSteamsValue[tooltipItem.index])\n\n                          const val = data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];\n                          return val + \"(\" +  wasteSteamValue + \"/\" + inputData + \")\"\n                        }\n                      }\n                    }\n\n                  }}\n              />\n\n            </div>\n          </div>\n\n\n          <div className=\"graph__row\">\n              <div className=\"dateLabel__wrapper\">\n                <div className=\"dateLabel__coverwastesSquare\"></div>\n                COVER\n                <div className=\"dateLabel__spoliageSquare\"></div>\n                SPOILAGE\n                <div className=\"dateLabel__preparationSquare\"></div>\n                PREPARATION\n                <div className=\"dateLabel__allWasteSquare\"></div>\n                ALL\n              </div>\n          </div>\n\n\n          <div className=\"graph__row\">\n            <div className=\"graph__selector-spacing\">\n              <div className=\"graph__title\">MONTH:\n              </div>\n\n              {montlyArray.map((month, i) => {\n                return (\n                  <div className={month.show? \"active applyMarginRightAndLeft applyPurpleColor\": \"displayNone\"} key={i} >\n                    {month.month}\n                  </div>\n                )\n              })}\n\n              <h2 className=\"applyMarginRightAndLeft clickable\" onClick={() => {handleMonthly(\"NEXT\")}}>NEXT</h2>\n              <h2 className=\"clickable\" onClick={() => {handleMonthly(\"PREV\")}}>PREV</h2>\n            </div>\n            {/* <div className=\"graph__selector-spacing\">\n              <div className=\"graph__title\">YEAR:\n              </div>\n              {yearly.map((year, i) =>{\n                return (\n                  <div className={year.show? \"active applyMarginRightAndLeft applyPurpleColor\": \"displayNone\"} key={i} >\n                    {year.year}\n                  </div>\n                )\n              })}\n              <h2 className=\"applyMarginRightAndLeft clickable\" onClick={() => {handleYearly(\"NEXT\")}}>NEXT</h2>\n              <h2 className=\"clickable\" onClick={() => {handleYearly(\"PREV\")}}>PREV</h2>\n            </div> */}\n            <div className=\"graph__title clickable applyPurpleColor\" onClick={() => {handleSearch()}}>\n              SEARCH\n            </div>\n          </div>\n\n          {/* <div className=\"graph__row\">\n             <div className=\"warning\">\n              {showSearchError? \"Please note the Data you have requested is not available\":\"\"}\n             </div>\n          </div> */}\n\n          <div className=\"graph__row\">\n             <div className=\"graph__message\">\n              (Starts on the first Monday of the Month)\n             </div>\n          </div>\n\n        </div>\n\n      </AccordionBody>\n      </>\n      }\n    </>\n\n  );\n}\n"]},"metadata":{},"sourceType":"module"}