{"ast":null,"code":"var _jsxFileName = \"/Users/james/Documents/CODE/GREENKODE_DASHBOARD/greenkode-dashboard/frontend/greenkode/src/shared/components/containers/reports/event-production-waste-report.js\";\nimport React, { useState, useContext, useEffect } from \"react\";\nimport { AccordionHeading, AccordionBody } from \"../accordion\";\nimport { setItemInLocalStorage, formatSiteName } from \"../../../../utilities.js\";\nimport Subheadings from \"../reuseable-components/labels/subheadings\";\nimport SlackChart from \"../reuseable-components/charts/slack-chart/slack-chart\";\nimport { DailySalesVsWasteContext } from \"../../../../contexts/daily-sales-vs-waste-context\";\nimport { EventProductionWasteContext } from \"../../../../contexts/event-production-waste-context\";\nimport { ProductionPreparationContext } from \"../../../../contexts/production-preparation-context\";\nimport Pagination from \"./../reuseable-components/pagination/pagination.js\";\nimport { WasteLabelsContext } from \"../../../../contexts/waste-labels-context\";\nexport default function DailySalesVsWasteReport(props) {\n  const {\n    labels\n  } = useContext(WasteLabelsContext);\n  const {\n    siteName,\n    companyName,\n    id,\n    dataFromDB\n  } = useContext(DailySalesVsWasteContext);\n  const {\n    chartData,\n    index,\n    filterDataByDate,\n    callProductionPreparationInputsFunc,\n    prodPrepInputsData\n  } = useContext(EventProductionWasteContext);\n  const {\n    numberOfWeeks,\n    weeklyNumbers,\n    weeklyStartDateArry,\n    paginationIndex\n  } = useContext(ProductionPreparationContext); // const [dateLabels, setDateLabels] = useState([]);\n  // const [formatedDate, setFormatedDate] = useState([]);\n  // const [showDate, setShowDate] = useState(true);\n\n  const [weeksCommencing, setWeeksCommencing] = useState([]);\n  const [dailyCoverWaste, setDailyCoverWaste] = useState([0, 0, 0, 0, 0, 0, 0]);\n  const [dailyPrepWaste, setDailyPrepWaste] = useState([0, 0, 0, 0, 0, 0, 0]);\n  const [dailySpoilageWaste, setDailySpoilageWaste] = useState([0, 0, 0, 0, 0, 0, 0]);\n  const [dailyTotalWaste, setDailyTotalWaste] = useState([0, 0, 0, 0, 0, 0, 0]);\n  useEffect(() => {\n    // setDateLabels(props.weeklyDailyRange)\n    // if (props.weeklyDailyLabels) {\n    //   setFormatedDate(props.weeklyDailyLabels)\n    // }\n    if (prodPrepInputsData.dailyCoverWasteArrayFormated !== undefined) {\n      setDailyCoverWaste(prodPrepInputsData.dailyCoverWasteArrayFormated);\n      setDailyPrepWaste(prodPrepInputsData.dailyPrepWasteArrayFormated);\n      setDailySpoilageWaste(prodPrepInputsData.dailySpoilageWasteArrayFormated);\n      setDailyTotalWaste(prodPrepInputsData.totalDailyWaste);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [siteName, companyName, id, props, chartData, numberOfWeeks]);\n\n  const changePageForWeeks = ({\n    selected\n  }) => {\n    const date = \"w/c\" + \" \" + weeklyStartDateArry[selected];\n    setWeeksCommencing(date); // setShowDate(false)\n    //get the data for the graph\n\n    if (id && companyName && siteName && weeklyNumbers[selected]) {\n      callProductionPreparationInputsFunc(id, companyName, siteName, weeklyNumbers[selected]);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: props.hideReport ? \"dailyWasteChart displayNone\" : \"dailyWasteChart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(AccordionHeading, {\n    color: \"primPurpleBackgroundColor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"section-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, \"EVENT PRODUCTION WASTE\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    onClick: () => {\n      props.setShowEventProductionWaste(!props.showEventProductionWaste);\n      setItemInLocalStorage(\"eventProductionWaste\", !props.showEventProductionWaste);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  }, props.showEventProductionWaste ? \"X \" : \"| | | \"))), /*#__PURE__*/React.createElement(AccordionBody, {\n    open: props.showEventProductionWaste,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"originalTheme__reportBackgroundColor addPaddingOfHalveRem\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      padding: \"2rem\",\n      fontSize: \"10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Pagination, {\n    index: paginationIndex,\n    onPageChange: changePageForWeeks,\n    pageCount: numberOfWeeks,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 15\n    }\n  })))));\n}","map":{"version":3,"sources":["/Users/james/Documents/CODE/GREENKODE_DASHBOARD/greenkode-dashboard/frontend/greenkode/src/shared/components/containers/reports/event-production-waste-report.js"],"names":["React","useState","useContext","useEffect","AccordionHeading","AccordionBody","setItemInLocalStorage","formatSiteName","Subheadings","SlackChart","DailySalesVsWasteContext","EventProductionWasteContext","ProductionPreparationContext","Pagination","WasteLabelsContext","DailySalesVsWasteReport","props","labels","siteName","companyName","id","dataFromDB","chartData","index","filterDataByDate","callProductionPreparationInputsFunc","prodPrepInputsData","numberOfWeeks","weeklyNumbers","weeklyStartDateArry","paginationIndex","weeksCommencing","setWeeksCommencing","dailyCoverWaste","setDailyCoverWaste","dailyPrepWaste","setDailyPrepWaste","dailySpoilageWaste","setDailySpoilageWaste","dailyTotalWaste","setDailyTotalWaste","dailyCoverWasteArrayFormated","undefined","dailyPrepWasteArrayFormated","dailySpoilageWasteArrayFormated","totalDailyWaste","changePageForWeeks","selected","date","hideReport","setShowEventProductionWaste","showEventProductionWaste","display","padding","fontSize"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\nimport { AccordionHeading, AccordionBody } from \"../accordion\";\nimport { setItemInLocalStorage, formatSiteName } from \"../../../../utilities.js\";\n\nimport Subheadings from \"../reuseable-components/labels/subheadings\"\nimport SlackChart from \"../reuseable-components/charts/slack-chart/slack-chart\"\n\nimport { DailySalesVsWasteContext } from \"../../../../contexts/daily-sales-vs-waste-context\";\nimport { EventProductionWasteContext } from \"../../../../contexts/event-production-waste-context\";\nimport { ProductionPreparationContext } from \"../../../../contexts/production-preparation-context\";\n\nimport Pagination from \"./../reuseable-components/pagination/pagination.js\"\n\nimport { WasteLabelsContext } from \"../../../../contexts/waste-labels-context\";\n\nexport default function DailySalesVsWasteReport(props) {\n\n  const {\n    labels\n  } = useContext(WasteLabelsContext);\n\n  const {\n    siteName,\n    companyName,\n    id,\n    dataFromDB,\n   } = useContext(DailySalesVsWasteContext);\n\n   const {\n    chartData,\n    index,\n    filterDataByDate,\n    callProductionPreparationInputsFunc,\n    prodPrepInputsData\n   } = useContext(EventProductionWasteContext);\n\n   const {\n    numberOfWeeks,\n    weeklyNumbers,\n    weeklyStartDateArry,\n    paginationIndex\n   } = useContext(ProductionPreparationContext);\n\n  // const [dateLabels, setDateLabels] = useState([]);\n  // const [formatedDate, setFormatedDate] = useState([]);\n  // const [showDate, setShowDate] = useState(true);\n  const [weeksCommencing, setWeeksCommencing] = useState([]);\n\n  const [dailyCoverWaste, setDailyCoverWaste] = useState([0,0,0,0,0,0,0]);\n  const [dailyPrepWaste, setDailyPrepWaste] = useState([0,0,0,0,0,0,0]);\n  const [dailySpoilageWaste, setDailySpoilageWaste] = useState([0,0,0,0,0,0,0]);\n  const [dailyTotalWaste, setDailyTotalWaste] = useState([0,0,0,0,0,0,0]);\n\n  useEffect(() => {\n    // setDateLabels(props.weeklyDailyRange)\n\n    // if (props.weeklyDailyLabels) {\n    //   setFormatedDate(props.weeklyDailyLabels)\n    // }\n\n    if (prodPrepInputsData.dailyCoverWasteArrayFormated !== undefined) {\n      setDailyCoverWaste(prodPrepInputsData.dailyCoverWasteArrayFormated)\n      setDailyPrepWaste(prodPrepInputsData.dailyPrepWasteArrayFormated)\n      setDailySpoilageWaste(prodPrepInputsData.dailySpoilageWasteArrayFormated)\n      setDailyTotalWaste(prodPrepInputsData.totalDailyWaste)\n    }\n\n   // eslint-disable-next-line react-hooks/exhaustive-deps\n  },[siteName, companyName, id, props, chartData,numberOfWeeks])\n\n  const changePageForWeeks = ({ selected }) => {\n\n    const date = \"w/c\" + \" \" + weeklyStartDateArry[selected]\n    setWeeksCommencing(date)\n    // setShowDate(false)\n    //get the data for the graph\n    if (id && companyName && siteName && weeklyNumbers[selected]) {\n      callProductionPreparationInputsFunc(id ,companyName ,siteName, weeklyNumbers[selected]);\n    }\n};\n\n  return (\n    <div\n      className={\n        props.hideReport ? \"dailyWasteChart displayNone\" : \"dailyWasteChart\"\n      }\n    >\n      <AccordionHeading color={\"primPurpleBackgroundColor\"}>\n        <div className=\"section-title\">EVENT PRODUCTION WASTE</div>\n        <div className=\"container\">\n          <span\n            onClick={() => {\n              props.setShowEventProductionWaste(\n                !props.showEventProductionWaste\n              );\n              setItemInLocalStorage(\n                \"eventProductionWaste\",\n                !props.showEventProductionWaste\n              );\n            }}\n          >\n            {props.showEventProductionWaste ? \"X \" : \"| | | \"}\n          </span>\n        </div>\n      </AccordionHeading>\n\n      <AccordionBody open={props.showEventProductionWaste}>\n        <div className=\"originalTheme__reportBackgroundColor addPaddingOfHalveRem\">\n\n            {/* <SlackChart chartData={chartData} /> */}\n\n            <div style={{\n              display: \"flex\",\n              padding: \"2rem\",\n              fontSize: \"10px\"\n            }}>\n              <Pagination index={paginationIndex} onPageChange={changePageForWeeks} pageCount={numberOfWeeks} />\n            </div>\n\n        </div>\n      </AccordionBody>\n    </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}