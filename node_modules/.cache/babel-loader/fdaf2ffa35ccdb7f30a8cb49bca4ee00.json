{"ast":null,"code":"var _jsxFileName = \"/Users/james/Documents/CODE/GREENKODE_DASHBOARD/greenkode-dashboard/frontend/greenkode/src/shared/components/containers/auth/sign-up-super-admin.js\";\nimport React, { useState } from \"react\";\nimport { faAsterisk // faQuestionCircle,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport Footer from \"../../navigation/footer\"; // import { Link } from \"react-router-dom\";\n\nimport { useForm } from \"react-hook-form\";\nimport { Auth } from \"aws-amplify\";\nimport { addToGroup } from \"../../../../api\";\nexport default function SignUpSuperAdmin(props) {\n  const {\n    register,\n    handleSubmit,\n    errors\n  } = useForm();\n  const [errorMessageFromAWS, setErrorMessageFromAWS] = useState(\"\");\n  const [stage, setStage] = useState(1);\n\n  async function submit(values) {\n    console.log(\"values.email\", values);\n    const username = values.email;\n    const phone = values.phone;\n    const password = \"PassW0rd!\";\n    const name = values.name;\n    const company = values.company;\n    const companyId = props.companyID;\n    const signUpInformation = {\n      username,\n      password,\n      attributes: {\n        name: name,\n        \"custom:company\": company,\n        \"custom:NumberOfUsersSix\": \"0\",\n        \"custom:companyId\": companyId,\n        \"custom:smsAlerts\": \"true\",\n        \"custom:emailAlerts\": \"true\",\n        \"custom:mobile\": phone\n      }\n    };\n\n    try {\n      console.log(\"signUpInformation\", signUpInformation);\n      await Auth.signUp(signUpInformation);\n      await addToGroup(username, \"superAdmin\");\n      setStage(2);\n    } catch (error) {\n      setErrorMessageFromAWS(error.message);\n      console.log(\"error signing up:\", error);\n    }\n  }\n\n  async function confirmSignUp(values) {\n    const username = values.email;\n    const code = values.code;\n\n    try {\n      await Auth.confirmSignUp(username, code).then(() => {\n        props.history.push(\"/login\");\n      });\n    } catch (error) {\n      setErrorMessageFromAWS(error.message);\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, stage === 1 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit(submit),\n    className: \"signup__form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"signup__wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"signup__emailText\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 15\n    }\n  }, \"Email (Username)\"), \" \", /*#__PURE__*/React.createElement(\"input\", {\n    autoFocus: true,\n    type: \"email\",\n    name: \"email\",\n    className: \"signup__emailInput\",\n    ref: register({\n      required: \"required\",\n      pattern: {\n        value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n        message: \"invalid email address\"\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 15\n    }\n  }), errors.email ? /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  }, errors.email.message, \" \") : /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faAsterisk,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"signup__wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"signup__passwordText\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 15\n    }\n  }, \"Full Name\"), \" \", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"name\",\n    name: \"name\",\n    className: \"signup__passwordInput\",\n    ref: register({\n      required: \"required\"\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 15\n    }\n  }), errors.name ? /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  }, errors.name.message, \" \") : /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faAsterisk,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 17\n    }\n  }), \" \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"signup__wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"signup__passwordText\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 15\n    }\n  }, \"Company Name\"), \" \", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"company\",\n    name: \"company\",\n    className: \"signup__passwordInput\",\n    ref: register({\n      required: \"required\",\n      maxLength: 20\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 15\n    }\n  }), errors.company ? /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 17\n    }\n  }, errors.company.message, \" \") : /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faAsterisk,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 17\n    }\n  }), \" \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"signup__wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"signup__passwordText\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 15\n    }\n  }, \"Mobile number\"), \" \", /*#__PURE__*/React.createElement(\"input\", {\n    // type=\"number\"\n    name: \"phone\",\n    className: \"signup__passwordInput\",\n    ref: register({\n      required: \"required\",\n      maxLength: 20\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 15\n    }\n  }), errors.company ? /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 17\n    }\n  }, errors.company.message, \" \") : /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faAsterisk,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 17\n    }\n  }), \" \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"signup__wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"signup__passwordText\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 15\n    }\n  }, \"company ID\"), \" \", /*#__PURE__*/React.createElement(\"input\", {\n    name: \"companyID\",\n    className: \"signup__passwordInput\",\n    ref: register({\n      required: \"required\",\n      maxLength: 20\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 15\n    }\n  }), errors.company ? /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 17\n    }\n  }, errors.company.message, \" \") : /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faAsterisk,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 17\n    }\n  }), \" \"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    onClick: submit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 13\n    }\n  }, \"Sign up\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"forget-password-message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 15\n    }\n  }, errorMessageFromAWS)))), stage === 2 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit(confirmSignUp),\n    className: \"signup__form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"signup__heading--style\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 13\n    }\n  }, \"Confirm Sign Up\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"signup__wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"signup__emailText\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 15\n    }\n  }, \"Username (Email)\"), \" \", /*#__PURE__*/React.createElement(\"input\", {\n    autoFocus: true,\n    type: \"email\",\n    name: \"email\",\n    className: \"signup__emailInput\",\n    ref: register({\n      required: \"required\",\n      pattern: {\n        value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n        message: \"invalid email address\"\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"signup__wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"signup__passwordText\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 15\n    }\n  }, \"Verification code\"), \" \", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"code\",\n    name: \"code\",\n    className: \"signup__passwordInput\",\n    ref: register({\n      required: \"required\"\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    bssize: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 13\n    }\n  }, \"confirm\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"forget-password-message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 15\n    }\n  }, errorMessageFromAWS)))));\n}","map":{"version":3,"sources":["/Users/james/Documents/CODE/GREENKODE_DASHBOARD/greenkode-dashboard/frontend/greenkode/src/shared/components/containers/auth/sign-up-super-admin.js"],"names":["React","useState","faAsterisk","FontAwesomeIcon","Footer","useForm","Auth","addToGroup","SignUpSuperAdmin","props","register","handleSubmit","errors","errorMessageFromAWS","setErrorMessageFromAWS","stage","setStage","submit","values","console","log","username","email","phone","password","name","company","companyId","companyID","signUpInformation","attributes","signUp","error","message","confirmSignUp","code","then","history","push","required","pattern","value","maxLength"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport {\n  faAsterisk,\n  // faQuestionCircle,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport Footer from \"../../navigation/footer\";\n// import { Link } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport { Auth } from \"aws-amplify\";\n\nimport {\n  addToGroup,\n} from \"../../../../api\";\n\nexport default function SignUpSuperAdmin(props) {\n  const { register, handleSubmit, errors } = useForm();\n  const [errorMessageFromAWS, setErrorMessageFromAWS] = useState(\"\");\n\n  const [stage, setStage] = useState(1);\n\n  async function submit(values) {\n\n    console.log(\"values.email\",values)\n\n    const username = values.email;\n    const phone = values.phone;\n    const password = \"PassW0rd!\"\n    const name = values.name;\n    const company = values.company;\n    const companyId = props.companyID;\n\n    const signUpInformation = {\n      username,\n      password,\n      attributes: {\n          name: name,\n        \"custom:company\": company,\n        \"custom:NumberOfUsersSix\": \"0\",\n        \"custom:companyId\": companyId,\n        \"custom:smsAlerts\": \"true\",\n        \"custom:emailAlerts\": \"true\",\n        \"custom:mobile\": phone\n      },\n    };\n\n    try {\n\n      console.log(\"signUpInformation\",signUpInformation)\n\n      await Auth.signUp(signUpInformation);\n      await addToGroup(username, \"superAdmin\")\n\n      setStage(2);\n    } catch (error) {\n      setErrorMessageFromAWS(error.message);\n      console.log(\"error signing up:\", error);\n    }\n  }\n\n  async function confirmSignUp(values) {\n    const username = values.email;\n    const code = values.code;\n\n    try {\n      await Auth.confirmSignUp(username, code).then(() => {\n        props.history.push(\"/login\");\n      });\n    } catch (error) {\n      setErrorMessageFromAWS(error.message);\n    }\n  }\n\n  return (\n    <>\n      {stage === 1 && (\n        <div className=\"signup\">\n          <form onSubmit={handleSubmit(submit)} className=\"signup__form\">\n            {/* <div className=\"signup__heading--style\">\n              Sign up up maximum of 3 users\n            </div> */}\n\n            <div className=\"signup__wrapper\">\n              <div className=\"signup__emailText\">Email (Username)</div>{\" \"}\n              <input\n                autoFocus\n                type=\"email\"\n                name=\"email\"\n                className=\"signup__emailInput\"\n                ref={register({\n                  required: \"required\",\n                  pattern: {\n                    value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n                    message: \"invalid email address\",\n                  },\n                })}\n              />\n              {errors.email ? (\n                <p>{errors.email.message} </p>\n              ) : (\n                <FontAwesomeIcon icon={faAsterisk} />\n              )}\n            </div>\n\n\n            <div className=\"signup__wrapper\">\n              <div className=\"signup__passwordText\">Full Name</div>{\" \"}\n              <input\n                type=\"name\"\n                name=\"name\"\n                className=\"signup__passwordInput\"\n                ref={register({\n                  required: \"required\",\n                })}\n              />\n              {errors.name ? (\n                <p>{errors.name.message} </p>\n              ) : (\n                <FontAwesomeIcon icon={faAsterisk} />\n              )}{\" \"}\n            </div>\n\n            <div className=\"signup__wrapper\">\n              <div className=\"signup__passwordText\">Company Name</div>{\" \"}\n              <input\n                type=\"company\"\n                name=\"company\"\n                className=\"signup__passwordInput\"\n                ref={register({\n                  required: \"required\",\n                  maxLength: 20,\n                })}\n              />\n              {errors.company ? (\n                <p>{errors.company.message} </p>\n              ) : (\n                <FontAwesomeIcon icon={faAsterisk} />\n              )}{\" \"}\n            </div>\n\n            <div className=\"signup__wrapper\">\n              <div className=\"signup__passwordText\">Mobile number</div>{\" \"}\n              <input\n                // type=\"number\"\n                name=\"phone\"\n                className=\"signup__passwordInput\"\n                ref={register({\n                  required: \"required\",\n                  maxLength: 20,\n                })}\n              />\n              {errors.company ? (\n                <p>{errors.company.message} </p>\n              ) : (\n                <FontAwesomeIcon icon={faAsterisk} />\n              )}{\" \"}\n            </div>\n\n            <div className=\"signup__wrapper\">\n              <div className=\"signup__passwordText\">company ID</div>{\" \"}\n              <input\n                name=\"companyID\"\n                className=\"signup__passwordInput\"\n                ref={register({\n                  required: \"required\",\n                  maxLength: 20,\n                })}\n              />\n              {errors.company ? (\n                <p>{errors.company.message} </p>\n              ) : (\n                <FontAwesomeIcon icon={faAsterisk} />\n              )}{\" \"}\n            </div>\n\n            <button\n              type=\"submit\"\n              onClick={submit}\n            >\n              Sign up\n            </button>\n\n            <div className=\"forget-password-message\">\n              <p>{errorMessageFromAWS}</p>\n            </div>\n          </form>\n        </div>\n      )}\n\n      {stage === 2 && (\n        <div className=\"signup\">\n          <form onSubmit={handleSubmit(confirmSignUp)} className=\"signup__form\">\n            <div className=\"signup__heading--style\">Confirm Sign Up</div>\n\n            <div className=\"signup__wrapper\">\n              <div className=\"signup__emailText\">Username (Email)</div>{\" \"}\n              <input\n                autoFocus\n                type=\"email\"\n                name=\"email\"\n                className=\"signup__emailInput\"\n                ref={register({\n                  required: \"required\",\n                  pattern: {\n                    value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n                    message: \"invalid email address\",\n                  },\n                })}\n              />\n            </div>\n            <div className=\"signup__wrapper\">\n              <div className=\"signup__passwordText\">Verification code</div>{\" \"}\n              <input\n                type=\"code\"\n                name=\"code\"\n                className=\"signup__passwordInput\"\n                ref={register({\n                  required: \"required\",\n                })}\n              />\n            </div>\n\n            <button\n              type=\"submit\"\n              bssize=\"large\"\n            >\n              confirm\n            </button>\n\n            <div className=\"forget-password-message\">\n              <p>{errorMessageFromAWS}</p>\n            </div>\n          </form>\n        </div>\n      )}\n\n       {/* <Footer\n        message={\n          \"Our partners estimated that we can save them 30% on total cost on food waste\"\n        }\n      /> */}\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}