{"ast":null,"code":"var _jsxFileName = \"/Users/james/Documents/CODE/GREENKODE_DASHBOARD/greenkode-dashboard/frontend/greenkode/src/shared/components/containers/live-feeds/live-feed-graph.js\";\nimport React, { useState, useContext, useEffect } from \"react\";\nimport { AccordionHeading, AccordionBody } from \"../accordion\";\nimport { setItemInLocalStorage, formatSiteName } from \"../../../../utilities.js\";\nimport Subheadings from \"../reuseable-components/labels/subheadings\";\nimport SlackChart from \"../reuseable-components/charts/slack-chart/slack-chart\";\nimport { Bar } from \"react-chartjs-2\";\nimport { DailySalesVsWasteContext } from \"../../../../contexts/daily-sales-vs-waste-context\";\nimport { EventProductionWasteContext } from \"../../../../contexts/event-production-waste-context\";\nimport { ProductionPreparationContext } from \"../../../../contexts/production-preparation-context\";\nimport Pagination from \"./../reuseable-components/pagination/pagination.js\";\nimport { WasteLabelsContext } from \"../../../../contexts/waste-labels-context\";\nexport default function DailySalesVsWasteReport(props) {\n  const {\n    labels\n  } = useContext(WasteLabelsContext);\n  const {\n    siteName,\n    companyName,\n    id,\n    dataFromDB\n  } = useContext(DailySalesVsWasteContext);\n  const {\n    chartData,\n    index,\n    filterDataByDate,\n    callProductionPreparationInputsFunc,\n    prodPrepInputsData\n  } = useContext(EventProductionWasteContext);\n  const {\n    numberOfWeeks,\n    weeklyNumbers,\n    weeklyStartDateArry,\n    paginationIndex\n  } = useContext(ProductionPreparationContext); // const [dateLabels, setDateLabels] = useState([]);\n  // const [formatedDate, setFormatedDate] = useState([]);\n  // const [showDate, setShowDate] = useState(true);\n\n  const [weeksCommencing, setWeeksCommencing] = useState([]);\n  const [dailyCoverWaste, setDailyCoverWaste] = useState([0, 0, 0, 0, 0, 0, 0]);\n  const [dailyPrepWaste, setDailyPrepWaste] = useState([0, 0, 0, 0, 0, 0, 0]);\n  const [dailySpoilageWaste, setDailySpoilageWaste] = useState([0, 0, 0, 0, 0, 0, 0]);\n  const [dailyTotalWaste, setDailyTotalWaste] = useState([0, 0, 0, 0, 0, 0, 0]);\n  useEffect(() => {\n    // setDateLabels(props.weeklyDailyRange)\n    // if (props.weeklyDailyLabels) {\n    //   setFormatedDate(props.weeklyDailyLabels)\n    // }\n    if (prodPrepInputsData.dailyCoverWasteArrayFormated !== undefined) {\n      setDailyCoverWaste(prodPrepInputsData.dailyCoverWasteArrayFormated);\n      setDailyPrepWaste(prodPrepInputsData.dailyPrepWasteArrayFormated);\n      setDailySpoilageWaste(prodPrepInputsData.dailySpoilageWasteArrayFormated);\n      setDailyTotalWaste(prodPrepInputsData.totalDailyWaste);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [siteName, companyName, id, props, chartData, numberOfWeeks]);\n\n  const changePageForWeeks = ({\n    selected\n  }) => {\n    const date = \"w/c\" + \" \" + weeklyStartDateArry[selected];\n    setWeeksCommencing(date); // setShowDate(false)\n    //get the data for the graph\n\n    if (id && companyName && siteName && weeklyNumbers[selected]) {\n      callProductionPreparationInputsFunc(id, companyName, siteName, weeklyNumbers[selected]);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: props.hideReport ? \"dailyWasteChart displayNone\" : \"dailyWasteChart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"originalTheme__reportBackgroundColor addPaddingOfHalveRem\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Subheadings, {\n    site: formatSiteName(siteName),\n    title: \"Production Preparation Waste\",\n    date: weeksCommencing,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"applyBlueTuckGreen cooperHewittBold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 15\n    }\n  }, \"Production Preparation Waste\")), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      flexDirection: \"row\",\n      justifyContent: \"space-between\",\n      display: \"flex\",\n      padding: \"10px\",\n      fontSize: \"10px\",\n      color: \"rgb(140, 112, 140)\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, dataFromDB.map((item, i) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        flexDirection: \"column\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 21\n      }\n    }, labels.acronyms.c, \" \", \" \", \" \", dailyCoverWaste[i]), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 21\n      }\n    }, labels.acronyms.s, \" \", \" \", \" \", dailySpoilageWaste[i]), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 21\n      }\n    }, labels.acronyms.p, \" \", \" \", \" \", dailyPrepWaste[i]), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 21\n      }\n    }, \"ALL \", \" \", \" \", dailyTotalWaste[i]));\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"applyBlueTuckGreen cooperHewittBold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 15\n    }\n  }, \"Production Volume\")), /*#__PURE__*/React.createElement(Bar, {\n    data: {\n      labels: [\"C  S  P\", \"C  S  P\", \"C  S  P\", \"C  S  P\", \"C  S  P\", \"C  S  P\", \"C  S  P\"],\n      datasets: [{\n        label: \"cover waste\",\n        data: props.showPounds ? coverWasteData.map(item => {\n          return (item * 2.775).toFixed(0);\n        }) : coverWasteData,\n        fill: false,\n        backgroundColor: coverWasteBackgroundColours.slice(),\n        minBarLength: 0.3,\n        barPercentage: 0.3,\n        categoryPercentage: 0.7\n      }, {\n        label: \"spoliage waste\",\n        data: props.showPounds ? spoilageWasteData.map(item => {\n          return (item * 2.775).toFixed(0);\n        }) : spoilageWasteData,\n        fill: false,\n        backgroundColor: spoilageWasteBackgroundColours.slice(),\n        minBarLength: 0.3,\n        barPercentage: 0.3,\n        categoryPercentage: 0.7\n      }, {\n        label: \"preparation waste\",\n        data: props.showPounds ? prepWasteData.map(item => {\n          return (item * 2.775).toFixed(0);\n        }) : prepWasteData,\n        fill: false,\n        backgroundColor: prepWasteBackgroundColours,\n        minBarLength: 0.3,\n        barPercentage: 0.3,\n        categoryPercentage: 0.7\n      }]\n    },\n    width: dailyWasteWidth,\n    height: dailyWasteHeight,\n    options: {\n      responsive: true,\n      maintainAspectRatio: true,\n      legend: {\n        display: false\n      },\n      scales: {\n        xAxes: [{\n          gridLines: {\n            display: false\n          },\n          ticks: {\n            fontColor: \"rgb(133, 165, 101, 0)\"\n          }\n        }],\n        yAxes: [{\n          gridLines: {\n            display: false\n          },\n          display: false,\n          ticks: {\n            beginAtZero: true\n          }\n        }]\n      },\n      plugins: {\n        datalabels: {\n          anchor: \"start\",\n          align: \"bottom\",\n          display: true,\n          backgroundColor: null,\n          borderColor: null,\n          borderRadius: 4,\n          borderWidth: 1,\n          font: {\n            size: CSPlabelFont,\n            weight: 600\n          },\n          offset: 4,\n          padding: 0,\n          color: function (context) {\n            var index = context.dataIndex;\n            var value = parseInt(context.dataset.data[index]);\n            let warningNum;\n\n            if (context.dataset.label === \"cover waste\") {\n              let warningForCoverWasteCap = dailyCoverWastesCap;\n\n              if (props.showPounds) {\n                // warningNum = Math.round(warningForCoverWasteCap * 2.775);\n                warningNum = dailyWasteCappingInPounds;\n              } else {\n                warningNum = warningForCoverWasteCap;\n              }\n\n              if (value >= warningNum) {\n                return \"rgba(255, 0, 0, 0.9)\";\n              } else if (value === 0) {\n                return \"rgba(255, 255, 255, 0)\";\n              } else {\n                // return \"rgba(133, 165, 101, 1)\";\n                if (props.showDarkTheme) {\n                  return \"rgb(255, 231, 227)\";\n                } else {\n                  return \"rgba(133, 165, 101, 1)\";\n                }\n              }\n            }\n\n            if (context.dataset.label === \"preparation waste\") {\n              let warningForPreparationWasteCap = dailyPeparationWastesCap;\n\n              if (props.showPounds) {\n                // warningNum = Math.round(warningForPreparationWasteCap * 2.775);\n                warningNum = prepWasteCappingInPounds;\n              } else {\n                warningNum = warningForPreparationWasteCap;\n              }\n\n              if (value >= warningNum) {\n                return \"rgba(255, 0, 0, 0.9)\";\n              } else if (value === 0) {\n                return \"rgba(255, 255, 255, 0)\";\n              } else {\n                // return \"rgba(133, 165, 101, 1)\";\n                if (props.showDarkTheme) {\n                  return \"rgb(255, 231, 227)\";\n                } else {\n                  return \"rgba(133, 165, 101, 1)\";\n                }\n              }\n            }\n\n            if (context.dataset.label === \"spoliage waste\") {\n              let warningForSpoilageWasteCap = dailySpoliageWastesCap;\n\n              if (props.showPounds) {\n                // warningNum = Math.round(warningForSpoilageWasteCap * 2.775);\n                warningNum = spoilageWasteCappingInPounds;\n              } else {\n                warningNum = warningForSpoilageWasteCap;\n              }\n\n              if (value >= warningNum) {\n                return \"rgba(255, 0, 0, 0.9)\";\n              } else if (value === 0) {\n                return \"rgba(255, 255, 255, 0)\";\n              } else {\n                // return \"rgba(133, 165, 101, 1)\";\n                if (props.showDarkTheme) {\n                  return \"rgb(255, 231, 227)\";\n                } else {\n                  return \"rgba(133, 165, 101, 1)\";\n                }\n              }\n            }\n          },\n          formatter: function (value, context) {\n            // var index = context.dataIndex;\n            // var value = parseInt(context.dataset.data[index]);\n            let warningNum;\n\n            if (context.dataset.label === \"cover waste\") {\n              let warningForCoverWasteCap = dailyCoverWastesCap;\n\n              if (props.showPounds) {\n                // warningNum = Math.round(warningForCoverWasteCap * 2.775);\n                warningNum = dailyWasteCappingInPounds;\n              } else {\n                warningNum = warningForCoverWasteCap;\n              }\n\n              if (value >= warningNum) {\n                return `${value}`;\n              }\n            } else if (context.dataset.label === \"preparation waste\") {\n              let warningForPreparationWasteCap = dailyPeparationWastesCap;\n\n              if (props.showPounds) {\n                // warningNum = Math.round(warningForPreparationWasteCap * 2.775);\n                warningNum = prepWasteCappingInPounds;\n              } else {\n                warningNum = warningForPreparationWasteCap;\n              }\n\n              if (value >= warningNum) {\n                return `${value}`;\n              }\n            } else if (context.dataset.label === \"spoliage waste\") {\n              let warningForSpoilageWasteCap = dailySpoliageWastesCap;\n\n              if (props.showPounds) {\n                // warningNum = Math.round(warningForSpoilageWasteCap * 2.775);\n                warningNum = spoilageWasteCappingInPounds;\n              } else {\n                warningNum = warningForSpoilageWasteCap;\n              }\n\n              if (value >= warningNum) {\n                return `${value}`;\n              }\n            }\n          }\n        }\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dailyWasteChart__dateLabel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 13\n    }\n  }, [\"MON\", \"TUES\", \"WED\", \"THURS\", \"FRI\", \"SAT\", \"SUN\"].map((data, i) => /*#__PURE__*/React.createElement(\"div\", {\n    className: index === i ? \"applyGoldColor\" : \"\",\n    key: i,\n    onClick: () => {\n      filterDataByDate(i);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 17\n    }\n  }, data))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"graph__row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 397,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"graph__message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 17\n    }\n  }, \"Click on the date to see data from that day\")), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      padding: \"2rem\",\n      fontSize: \"10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Pagination, {\n    index: paginationIndex,\n    onPageChange: changePageForWeeks,\n    pageCount: numberOfWeeks,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 408,\n      columnNumber: 15\n    }\n  }))));\n}","map":{"version":3,"sources":["/Users/james/Documents/CODE/GREENKODE_DASHBOARD/greenkode-dashboard/frontend/greenkode/src/shared/components/containers/live-feeds/live-feed-graph.js"],"names":["React","useState","useContext","useEffect","AccordionHeading","AccordionBody","setItemInLocalStorage","formatSiteName","Subheadings","SlackChart","Bar","DailySalesVsWasteContext","EventProductionWasteContext","ProductionPreparationContext","Pagination","WasteLabelsContext","DailySalesVsWasteReport","props","labels","siteName","companyName","id","dataFromDB","chartData","index","filterDataByDate","callProductionPreparationInputsFunc","prodPrepInputsData","numberOfWeeks","weeklyNumbers","weeklyStartDateArry","paginationIndex","weeksCommencing","setWeeksCommencing","dailyCoverWaste","setDailyCoverWaste","dailyPrepWaste","setDailyPrepWaste","dailySpoilageWaste","setDailySpoilageWaste","dailyTotalWaste","setDailyTotalWaste","dailyCoverWasteArrayFormated","undefined","dailyPrepWasteArrayFormated","dailySpoilageWasteArrayFormated","totalDailyWaste","changePageForWeeks","selected","date","hideReport","flexDirection","justifyContent","display","padding","fontSize","color","map","item","i","acronyms","c","s","p","datasets","label","data","showPounds","coverWasteData","toFixed","fill","backgroundColor","coverWasteBackgroundColours","slice","minBarLength","barPercentage","categoryPercentage","spoilageWasteData","spoilageWasteBackgroundColours","prepWasteData","prepWasteBackgroundColours","dailyWasteWidth","dailyWasteHeight","responsive","maintainAspectRatio","legend","scales","xAxes","gridLines","ticks","fontColor","yAxes","beginAtZero","plugins","datalabels","anchor","align","borderColor","borderRadius","borderWidth","font","size","CSPlabelFont","weight","offset","context","dataIndex","value","parseInt","dataset","warningNum","warningForCoverWasteCap","dailyCoverWastesCap","dailyWasteCappingInPounds","showDarkTheme","warningForPreparationWasteCap","dailyPeparationWastesCap","prepWasteCappingInPounds","warningForSpoilageWasteCap","dailySpoliageWastesCap","spoilageWasteCappingInPounds","formatter"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\nimport { AccordionHeading, AccordionBody } from \"../accordion\";\nimport { setItemInLocalStorage, formatSiteName } from \"../../../../utilities.js\";\n\nimport Subheadings from \"../reuseable-components/labels/subheadings\"\nimport SlackChart from \"../reuseable-components/charts/slack-chart/slack-chart\"\n\nimport { Bar } from \"react-chartjs-2\";\nimport { DailySalesVsWasteContext } from \"../../../../contexts/daily-sales-vs-waste-context\";\nimport { EventProductionWasteContext } from \"../../../../contexts/event-production-waste-context\";\nimport { ProductionPreparationContext } from \"../../../../contexts/production-preparation-context\";\n\nimport Pagination from \"./../reuseable-components/pagination/pagination.js\"\n\nimport { WasteLabelsContext } from \"../../../../contexts/waste-labels-context\";\n\nexport default function DailySalesVsWasteReport(props) {\n\n  const {\n    labels\n  } = useContext(WasteLabelsContext);\n\n  const {\n    siteName,\n    companyName,\n    id,\n    dataFromDB,\n   } = useContext(DailySalesVsWasteContext);\n\n   const {\n    chartData,\n    index,\n    filterDataByDate,\n    callProductionPreparationInputsFunc,\n    prodPrepInputsData\n   } = useContext(EventProductionWasteContext);\n\n   const {\n    numberOfWeeks,\n    weeklyNumbers,\n    weeklyStartDateArry,\n    paginationIndex\n   } = useContext(ProductionPreparationContext);\n\n  // const [dateLabels, setDateLabels] = useState([]);\n  // const [formatedDate, setFormatedDate] = useState([]);\n  // const [showDate, setShowDate] = useState(true);\n  const [weeksCommencing, setWeeksCommencing] = useState([]);\n\n  const [dailyCoverWaste, setDailyCoverWaste] = useState([0,0,0,0,0,0,0]);\n  const [dailyPrepWaste, setDailyPrepWaste] = useState([0,0,0,0,0,0,0]);\n  const [dailySpoilageWaste, setDailySpoilageWaste] = useState([0,0,0,0,0,0,0]);\n  const [dailyTotalWaste, setDailyTotalWaste] = useState([0,0,0,0,0,0,0]);\n\n  useEffect(() => {\n    // setDateLabels(props.weeklyDailyRange)\n\n    // if (props.weeklyDailyLabels) {\n    //   setFormatedDate(props.weeklyDailyLabels)\n    // }\n\n    if (prodPrepInputsData.dailyCoverWasteArrayFormated !== undefined) {\n      setDailyCoverWaste(prodPrepInputsData.dailyCoverWasteArrayFormated)\n      setDailyPrepWaste(prodPrepInputsData.dailyPrepWasteArrayFormated)\n      setDailySpoilageWaste(prodPrepInputsData.dailySpoilageWasteArrayFormated)\n      setDailyTotalWaste(prodPrepInputsData.totalDailyWaste)\n    }\n\n   // eslint-disable-next-line react-hooks/exhaustive-deps\n  },[siteName, companyName, id, props, chartData,numberOfWeeks])\n\n  const changePageForWeeks = ({ selected }) => {\n\n    const date = \"w/c\" + \" \" + weeklyStartDateArry[selected]\n    setWeeksCommencing(date)\n    // setShowDate(false)\n    //get the data for the graph\n    if (id && companyName && siteName && weeklyNumbers[selected]) {\n      callProductionPreparationInputsFunc(id ,companyName ,siteName, weeklyNumbers[selected]);\n    }\n};\n\n  return (\n    <div\n      className={\n        props.hideReport ? \"dailyWasteChart displayNone\" : \"dailyWasteChart\"\n      }\n    >\n        <div className=\"originalTheme__reportBackgroundColor addPaddingOfHalveRem\">\n            <Subheadings\n              site={formatSiteName(siteName)}\n              title=\"Production Preparation Waste\"\n              date={weeksCommencing}\n            />\n\n            <div className=\"applyBlueTuckGreen cooperHewittBold\">\n              <h4>Production Preparation Waste</h4>\n            </div>\n\n            <div style={{\n              flexDirection: \"row\",\n              justifyContent: \"space-between\",\n              display:\"flex\",\n              padding: \"10px\",\n              fontSize: \"10px\",\n              color: \"rgb(140, 112, 140)\"\n            }}>\n\n              {dataFromDB.map((item, i) => {\n\n                return (\n                  <div style={{\n                    display:\"flex\",\n                    flexDirection: \"column\",\n                  }}>\n                    <div style={{display:\"flex\"}}>{labels.acronyms.c} {\" \"} {dailyCoverWaste[i]}</div>\n                    <div>{labels.acronyms.s} {\" \"} {dailySpoilageWaste[i]}</div>\n                    <div>{labels.acronyms.p} {\" \"} {dailyPrepWaste[i]}</div>\n                    <div>ALL {\" \"} {dailyTotalWaste[i]}</div>\n                  </div>\n                )\n              })}\n\n            </div>\n\n            <div className=\"applyBlueTuckGreen cooperHewittBold\">\n              <h4>Production Volume</h4>\n            </div>\n\n            {/* <SlackChart chartData={chartData} /> */}\n              <Bar\n                data={{\n                  labels: [\n                    \"C  S  P\",\n                    \"C  S  P\",\n                    \"C  S  P\",\n                    \"C  S  P\",\n                    \"C  S  P\",\n                    \"C  S  P\",\n                    \"C  S  P\",\n                  ],\n                  datasets: [\n                    {\n                      label: \"cover waste\",\n                      data: props.showPounds\n                        ? coverWasteData.map((item) => {\n                            return (item * 2.775).toFixed(0);\n                          }) :\n                          coverWasteData,\n                      fill: false,\n                      backgroundColor: coverWasteBackgroundColours.slice(),\n                      minBarLength: 0.3,\n                      barPercentage: 0.3,\n                      categoryPercentage: 0.7,\n                    },\n                    {\n                      label: \"spoliage waste\",\n                      data: props.showPounds\n                        ? spoilageWasteData.map((item) => {\n                            return (item * 2.775).toFixed(0);\n                          }) :\n                          spoilageWasteData,\n                      fill: false,\n                      backgroundColor: spoilageWasteBackgroundColours.slice(),\n                      minBarLength: 0.3,\n                      barPercentage: 0.3,\n                      categoryPercentage: 0.7,\n                    },\n                    {\n                      label: \"preparation waste\",\n                      data: props.showPounds\n                        ?  prepWasteData.map((item) => {\n                            return (item * 2.775).toFixed(0);\n                          }) :\n                          prepWasteData,\n                      fill: false,\n                      backgroundColor: prepWasteBackgroundColours,\n                      minBarLength: 0.3,\n                      barPercentage: 0.3,\n                      categoryPercentage: 0.7,\n                    },\n                  ],\n                }}\n                width={dailyWasteWidth}\n                height={dailyWasteHeight}\n                options={{\n                  responsive: true,\n                  maintainAspectRatio: true,\n                  legend: {\n                    display: false,\n                  },\n                  scales: {\n                    xAxes: [\n                      {\n                        gridLines: {\n                          display: false,\n                        },\n                        ticks: {\n                          fontColor: \"rgb(133, 165, 101, 0)\",\n                        },\n                      },\n                    ],\n                    yAxes: [\n                      {\n                        gridLines: {\n                          display: false,\n                        },\n                        display: false,\n                        ticks: {\n                          beginAtZero: true,\n                        },\n                      },\n                    ],\n                  },\n\n                  plugins: {\n                    datalabels: {\n                      anchor: \"start\",\n                      align: \"bottom\",\n                      display: true,\n                      backgroundColor: null,\n                      borderColor: null,\n                      borderRadius: 4,\n                      borderWidth: 1,\n                      font: {\n                        size: CSPlabelFont,\n                        weight: 600,\n                      },\n                      offset: 4,\n                      padding: 0,\n                      color: function (context) {\n                        var index = context.dataIndex;\n                        var value = parseInt(context.dataset.data[index]);\n\n                        let warningNum;\n\n                        if (context.dataset.label === \"cover waste\") {\n\n                          let warningForCoverWasteCap = dailyCoverWastesCap;\n\n                          if (props.showPounds) {\n                            // warningNum = Math.round(warningForCoverWasteCap * 2.775);\n                            warningNum = dailyWasteCappingInPounds;\n                          } else {\n                            warningNum = warningForCoverWasteCap;\n                          }\n\n                          if (value >= warningNum) {\n                            return \"rgba(255, 0, 0, 0.9)\";\n                          } else if (value === 0) {\n                            return \"rgba(255, 255, 255, 0)\";\n                          } else {\n                            // return \"rgba(133, 165, 101, 1)\";\n\n                            if (props.showDarkTheme) {\n                            return \"rgb(255, 231, 227)\";\n                            } else {\n                              return \"rgba(133, 165, 101, 1)\";\n                            }\n\n                          }\n\n                        }\n\n                        if (context.dataset.label === \"preparation waste\") {\n\n                          let warningForPreparationWasteCap = dailyPeparationWastesCap;\n\n                          if (props.showPounds) {\n                            // warningNum = Math.round(warningForPreparationWasteCap * 2.775);\n                            warningNum = prepWasteCappingInPounds\n                          } else {\n                            warningNum = warningForPreparationWasteCap;\n                          }\n\n\n                          if (value >= warningNum) {\n                            return \"rgba(255, 0, 0, 0.9)\";\n                          } else if (value === 0) {\n                            return \"rgba(255, 255, 255, 0)\";\n                          } else {\n\n                            // return \"rgba(133, 165, 101, 1)\";\n\n                            if (props.showDarkTheme) {\n                            return \"rgb(255, 231, 227)\";\n                            } else {\n                              return \"rgba(133, 165, 101, 1)\";\n                            }\n\n                          }\n\n\n                        }\n\n                        if (context.dataset.label === \"spoliage waste\") {\n\n                          let warningForSpoilageWasteCap = dailySpoliageWastesCap;\n\n\n                          if (props.showPounds) {\n                            // warningNum = Math.round(warningForSpoilageWasteCap * 2.775);\n                            warningNum = spoilageWasteCappingInPounds\n                          } else {\n                            warningNum = warningForSpoilageWasteCap;\n                          }\n\n                          if (value >= warningNum) {\n                            return \"rgba(255, 0, 0, 0.9)\";\n                          } else if (value === 0) {\n                            return \"rgba(255, 255, 255, 0)\";\n                          } else {\n                            // return \"rgba(133, 165, 101, 1)\";\n\n                            if (props.showDarkTheme) {\n                            return \"rgb(255, 231, 227)\";\n                            } else {\n                              return \"rgba(133, 165, 101, 1)\";\n                            }\n\n                          }\n\n\n                        }\n\n                      },\n                      formatter: function (value, context) {\n                        // var index = context.dataIndex;\n                        // var value = parseInt(context.dataset.data[index]);\n\n                        let warningNum;\n\n                        if (context.dataset.label === \"cover waste\") {\n\n                          let warningForCoverWasteCap = dailyCoverWastesCap;\n\n                          if (props.showPounds) {\n                            // warningNum = Math.round(warningForCoverWasteCap * 2.775);\n                            warningNum = dailyWasteCappingInPounds;\n                          } else {\n                            warningNum = warningForCoverWasteCap;\n                          }\n\n                        if (value >= warningNum) {\n                            return `${value}`;\n\n                          }\n\n                        } else if (context.dataset.label === \"preparation waste\") {\n\n                          let warningForPreparationWasteCap = dailyPeparationWastesCap;\n\n\n                          if (props.showPounds) {\n                            // warningNum = Math.round(warningForPreparationWasteCap * 2.775);\n                            warningNum = prepWasteCappingInPounds\n                          } else {\n                            warningNum = warningForPreparationWasteCap;\n                          }\n\n                          if (value >= warningNum) {\n                            return `${value}`;\n\n                          }\n\n                        } else if (context.dataset.label === \"spoliage waste\") {\n\n                          let warningForSpoilageWasteCap = dailySpoliageWastesCap;\n\n                          if (props.showPounds) {\n                            // warningNum = Math.round(warningForSpoilageWasteCap * 2.775);\n                            warningNum = spoilageWasteCappingInPounds\n                          } else {\n                            warningNum = warningForSpoilageWasteCap;\n                          }\n\n                          if (value >= warningNum) {\n                            return `${value}`;\n\n                          }\n\n                        }\n\n                      },\n                    },\n                  },\n                }}\n              />\n\n\n            <div className=\"dailyWasteChart__dateLabel\">\n              {[\"MON\",\"TUES\", \"WED\", \"THURS\", \"FRI\",\"SAT\", \"SUN\"].map((data, i) => (\n                <div className={index === i ? \"applyGoldColor\": \"\"} key={i} onClick={(() => {filterDataByDate(i)})}>{data}</div>\n              ))}\n            </div>\n\n            <div className=\"graph__row\">\n                <div className=\"graph__message\">\n                  Click on the date to see data from that day\n                </div>\n            </div>\n\n            <div style={{\n              display: \"flex\",\n              padding: \"2rem\",\n              fontSize: \"10px\"\n            }}>\n              <Pagination index={paginationIndex} onPageChange={changePageForWeeks} pageCount={numberOfWeeks} />\n            </div>\n\n        </div>\n\n    </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}